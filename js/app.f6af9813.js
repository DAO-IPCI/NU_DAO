(function(t){function e(e){for(var n,r,o=e[0],l=e[1],c=e[2],u=0,d=[];u<o.length;u++)r=o[u],s[r]&&d.push(s[r][0]),s[r]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);m&&m(e);while(d.length)d.shift()();return i.push.apply(i,c||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],n=!0,o=1;o<a.length;o++){var l=a[o];0!==s[l]&&(n=!1)}n&&(i.splice(e--,1),t=r(r.s=a[0]))}return t}var n={},s={app:0},i=[];function r(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=n,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(a,n,function(e){return t[e]}.bind(null,n));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/NU_DAO/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var m=l;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"2cb2":function(t,e,a){},4882:function(t,e,a){"use strict";var n=a("2cb2"),s=a.n(n);s.a},"56d7":function(t,e,a){"use strict";a.r(e);var n=a("2b0e"),s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("Header"),a("v-content",[a("router-view")],1)],1)},i=[],r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("fragment",[a("v-navigation-drawer",{attrs:{app:"",absolute:"",temporary:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[a("MenuMobile")],1),a("v-app-bar",{attrs:{app:"",dark:"",color:"primary"}},[a("LangSwitcher"),a("v-spacer"),a("v-toolbar-title",{staticClass:"headline"},[a("router-link",{staticClass:"white--text",staticStyle:{"text-decoration":"none"},attrs:{to:"/"}},[t._v(t._s(t.$t("title")))])],1),a("v-spacer"),t.$vuetify.breakpoint.mdAndUp?a("MenuMain"):t._e(),t.$vuetify.breakpoint.smAndDown?a("v-app-bar-nav-icon",{on:{click:function(e){e.stopPropagation(),t.drawer=!t.drawer}}}):t._e()],1)],1)},o=[],l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-toolbar-items",[a("v-btn",{attrs:{text:"",title:"rinkeby",href:"https://dapp.ipci.io/#/dao/market/0xd86E7d6322F38646A37e2a713723d8B15347Be99",target:"_blank"}},[t._v(t._s(t.$t("menu.marketplace")))]),a("v-btn",{attrs:{text:"",href:"https://medium.com/@"+t.medium,target:"_blank"}},[t._v(t._s(t.$t("menu.publications")))]),a("v-btn",{attrs:{text:"",to:{name:"stat"}}},[t._v(t._s(t.$t("menu.statistics")))]),t.isAuthenticated?a("v-btn",{attrs:{text:"",to:{name:"add"}}},[t._v(t._s(t.$t("menu.add")))]):t._e(),t.isAuthenticated?t._e():a("v-btn",{attrs:{text:"",to:{name:"login"}}},[t._v(t._s(t.$t("menu.login")))]),t.isAuthenticated?a("v-btn",{attrs:{text:""},on:{click:t.logout}},[t._v(t._s(t.$t("menu.logout")))]):t._e()],1)},c=[],m=a("2f62"),u={data(){return{items:{}}},methods:{logout:function(){this.$store.dispatch("auth/logout").then(()=>this.$router.push("/login"))}},computed:{...Object(m["b"])("auth",["isAuthenticated"])}},d={medium:{user:"airalab",links:[{link:"https://blog.aira.life/airalab-partners-with-civic-technologies-for-identity-verification-services-fcb16a6293c8?source=rss-354ad12828b2------2",title:"Airalab Partners with Civic Technologies for Identity Verification Services",pubDate:"31.05.2019, 13:40:20"}],count_all_links:5}},v={mixins:[u],data:()=>({medium:d.medium.user})},b=v,h=a("2877"),g=a("6544"),p=a.n(g),f=a("8336"),_=a("2a7f"),y=Object(h["a"])(b,l,c,!1,null,null,null),w=y.exports;p()(y,{VBtn:f["a"],VToolbarItems:_["a"]});var x=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-list",{attrs:{dense:""}},[a("v-list-item",{attrs:{href:"https://dapp.ipci.io/#/dao/market/0xd86E7d6322F38646A37e2a713723d8B15347Be99",target:"_blank"}},[a("v-list-item-content",[a("v-list-item-title",[t._v(t._s(t.$t("menu.marketplace")))])],1)],1),a("v-list-item",{attrs:{href:"https://medium.com/@"+t.medium,target:"_blank"}},[a("v-list-item-content",[a("v-list-item-title",[t._v(t._s(t.$t("menu.publications")))])],1)],1),a("v-list-item",[a("v-list-item-content",[a("v-list-item-title",[t._v(t._s(t.$t("menu.statistics")))])],1)],1),t.isAuthenticated?a("v-list-item",{attrs:{to:{name:"add"}}},[a("v-list-item-content",[a("v-list-item-title",[t._v(t._s(t.$t("menu.add")))])],1)],1):t._e(),t.isAuthenticated?t._e():a("v-list-item",{attrs:{to:{name:"login"}}},[a("v-list-item-content",[a("v-list-item-title",[t._v(t._s(t.$t("menu.login")))])],1)],1),t.isAuthenticated?a("v-list-item",{on:{click:t.logout}},[a("v-list-item-content",[a("v-list-item-title",[t._v(t._s(t.$t("menu.logout")))])],1)],1):t._e()],1)},k=[],C={mixins:[u],data:()=>({medium:d.medium.user})},$=C,V=a("8860"),O=a("da13"),E=a("5d23"),S=Object(h["a"])($,x,k,!1,null,null,null),T=S.exports;p()(S,{VList:V["a"],VListItem:O["a"],VListItemContent:E["a"],VListItemTitle:E["c"]});var M=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-menu",{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[a("v-btn",t._g({attrs:{icon:""}},n),[t._v(t._s(t.$i18n.locale))])]}}])},[a("v-list",t._l(t.langs,function(e,n){return a("v-list-item",{directives:[{name:"show",rawName:"v-show",value:t.$i18n.locale!=e,expression:"$i18n.locale != lang"}],key:n,on:{click:function(a){return t.changeLang(e)}}},[a("v-list-item-title",{staticClass:"text-uppercase"},[t._v(t._s(e))])],1)}),1)],1)},j=[],A={data:()=>({langs:["en","ru"]}),methods:{changeLang(t){window.localStorage.lang=t,this.$i18n.locale=t}}},B=A,I=a("e449"),D=Object(h["a"])(B,M,j,!1,null,null,null),L=D.exports;p()(D,{VBtn:f["a"],VList:V["a"],VListItem:O["a"],VListItemTitle:E["c"],VMenu:I["a"]});var F={data:()=>({drawer:!1}),components:{MenuMain:w,MenuMobile:T,LangSwitcher:L}},q=F,N=a("40dc"),P=a("5bc1"),z=a("f774"),G=a("2fa4"),U=Object(h["a"])(q,r,o,!1,null,null,null),R=U.exports;p()(U,{VAppBar:N["a"],VAppBarNavIcon:P["a"],VNavigationDrawer:z["a"],VSpacer:G["a"],VToolbarTitle:_["b"]});var J={components:{Header:R},mounted(){this.$store.getters["auth/isAuthenticated"]&&this.$store.dispatch("auth/user"),this.$store.dispatch("data/members"),this.$store.dispatch("data/load",!1),this.$store.dispatch("news/load")}},H=J,W=a("7496"),K=a("a75b"),Y=Object(h["a"])(H,s,i,!1,null,null,null),Q=Y.exports;p()(Y,{VApp:W["a"],VContent:K["a"]});var X=a("f309"),Z=a("a925"),tt=a("da5b"),et=a.n(tt),at=a("2992"),nt=a.n(at),st={en:{$vuetify:et.a,title:"NU DAO",desc_page:"Nazarbayev University market system model for greenhouse gases emission reduction",menu:{marketplace:"Marketplace",publications:"Publications",statistics:"Statistics",add:"Add",login:"Login",logout:"Logout"},map:{title:"Carbon balance (to same month in 2018)",more:"more"},statistics:{current_rating:"This month tops",all_rating:"All time tops",ghg:"CO2 emission, ton",electricity:"Electricity comsumed, kWh",finance:"Balance, ₸",carbon_balance:"Carbon balance, tCO2"},resume:{title:"Leaders of the Month",enemy:"Fossil of the Month",friend:"Friend of Month",cumulative_result:"Cumulative result",univ_name:"Nazarbayev University",state_goal:"Kazakhstan state goal",annual:"annual",contribution:"NU contribution",global:"Global goal to keep global warming under 1.5°"},news:{publications:"Publications"}},ru:{$vuetify:nt.a,title:"НУ ДАО",desc_page:"Модель рыночной системы снижения выбросов парниковых газов Назарбаев Университета",menu:{marketplace:"Торговая площадка",publications:"Публикации",statistics:"Статистика",add:"Добавить",login:"Войти",logout:"Выйти"},map:{title:"Углеродный баланс (к тому же месяцу 2018)",more:"подробнее"},statistics:{current_rating:"Текущий рейтинг",all_rating:"Рейтинг за все время",ghg:"Выбросов CO2, тонн",electricity:"Потреблено электроэнергии, кВт * ч",finance:"Баланс, ₸",carbon_balance:"Углеродный баланс, tCO2"},resume:{title:"Лидеры месяца",enemy:"Поджигатель месяца",friend:"Друг месяца",cumulative_result:"Совокупный результат",univ_name:"Назарбаев Университета",state_goal:"Национальная цель Казахстана",annual:"за год",contribution:"Вклад НУ",global:"Глобальная цель для удержания роста температуры до 1,5°"},news:{publications:"Публикации"}}};n["a"].use(Z["a"]);const it=window.localStorage.lang||"en";var rt=new Z["a"]({locale:it,fallbackLocale:"en",messages:st});n["a"].use(X["a"]);var ot=new X["a"]({lang:{t:(t,...e)=>rt.t(t,e)},icons:{iconfont:"mdi"},theme:{themes:{light:{primary:"#4caf50",secondary:"#009688",accent:"#8bc34a",error:"#f44336",warning:"#ff5722",info:"#00bcd4",success:"#03a9f4"}}}}),lt=a("3f08");n["a"].use(lt["a"].Plugin);var ct=a("b054"),mt=a.n(ct),ut=a("bc3a"),dt=a.n(ut);const vt={links:d.medium.links,list:[]},bt={list:t=>{return[...t.links.map(t=>({icon:!0,...t})),...t.list]}},ht={load({commit:t}){let e=!1;const a=JSON.parse(localStorage.getItem("key"));a&&a.timestamp+6e5>(new Date).getTime()&&(t("news",a.list),e=!0),e||dt.a.get(`https://api.rss2json.com/v1/api.json?rss_url=https://medium.com/feed/@${d.medium.user}`).then(e=>{const a=e.data.items.filter(t=>{return!d.medium.links.find(e=>e.link===t.link)}).slice(0,d.medium.count_all_links-d.medium.links.length).map(t=>{return{title:t.title,link:t.link,pubDate:new Date(t.pubDate).toLocaleString()}});t("news",a),localStorage.setItem("key",JSON.stringify({list:a,timestamp:(new Date).getTime()}))})}},gt={news(t,e){t.list=e}};var pt={namespaced:!0,state:vt,getters:bt,actions:ht,mutations:gt};const ft="https://hbrz.khassanov.me/api/v1";function _t(t){return dt.a.get(ft+t).then(t=>{return t.data})}function yt(t,e){return dt.a.post(ft+t,e)}var wt={get:_t,post:yt};function xt(){return wt.get("/members")}function kt(){return wt.get("/members/electricity/consumptions")}function Ct(){return wt.get("/members/ghg/emissions")}function $t(t){return wt.get("/members/ghg/balances?month="+t+"&mitigated=true")}function Vt(){return wt.get("/members/finance/balances")}function Ot(){return wt.get("/members/finance/carbon_units_burned")}function Et(t){return wt.post("/members/electricity/consumptions",t)}const St={auth:{POST:t=>{if("admin"===t.login&&"admin"===t.password)return{token:"This-is-a-mocked-token"};throw new Error("err")}},"user/me":{GET:t=>{if("This-is-a-mocked-token"===t.token)return{name:"admin"};throw new Error("err")}}};function Tt({url:t,method:e,data:a}){return new Promise((n,s)=>{setTimeout(()=>{try{n(St[t][e||"GET"](a))}catch(i){s(new Error(i))}},1e3)})}var Mt={getMembers:xt,getElectricity:kt,getGhgEmission:Ct,getGhgBalances:$t,getFinanceBalances:Vt,getCarbonBurn:Ot,postElectricity:Et,auth:Tt};let jt=null;const At=new Date;At.setMonth(At.getMonth()-1);let Bt=At.getMonth()+1;Bt<10&&(Bt="0"+Bt),jt=Bt+"/"+At.getFullYear();const It={month:jt,members:[],electricity:{},ghg_emission:{},ghg_balance:{},finance:{},carbon_burn:{}},Dt={member:t=>(e,a=!1)=>{const n=t.members.find(t=>{return t.id===e}),s={name:n.name,electricity:0,ghg_emission:0,ghg_balance:0,finance:0};if(a){if(t.electricity[e]){const n=t.electricity[e].list.find(t=>{return t.month===a});n&&(s.electricity=n.value)}if(t.ghg_emission[e]){const n=t.ghg_emission[e].list.find(t=>{return t.month===a});n&&(s.ghg_emission=n.value)}if(t.ghg_balance[e]){const n=t.ghg_balance[e].list.find(t=>{return t.month===a});n&&(s.ghg_balance=n.value)}t.finance[e]&&(s.finance=t.finance[e]),t.carbon_burn[e]&&(s.carbon_burn=t.carbon_burn[e])}else t.electricity[e]&&t.electricity[e].list.forEach(t=>{s.electricity+=t.value}),t.ghg_emission[e]&&t.ghg_emission[e].list.forEach(t=>{s.ghg_emission+=t.value}),t.ghg_balance[e]&&t.ghg_balance[e].list.forEach(t=>{s.ghg_balance+=t.value}),t.finance[e]&&(s.finance=t.finance[e]),t.carbon_burn[e]&&(s.carbon_burn=t.carbon_burn[e]);return s},current:(t,e)=>{return t.members.map(a=>{return e.member(a.id,t.month)})},all:(t,e)=>{return t.members.map(t=>{return e.member(t.id,!1)})},min:t=>{const e={};Object.values(t.ghg_balance).forEach(a=>{e[a.member_id]=0,a.list.forEach(n=>{n.month===t.month&&(e[a.member_id]=n.value)})});let a=null;if(Object.keys(e).forEach(t=>{(null===a||e[t]<a.value)&&(a={member:"-",member_id:Number(t),value:e[t]})}),null===a)return{member:"-",member_id:0,value:0};const n=t.members.find(t=>{return t.id===a.member_id});return n?{...a,member:n.name}:a},max:t=>{const e={};Object.values(t.ghg_balance).forEach(a=>{e[a.member_id]=0,a.list.forEach(n=>{n.month===t.month&&(e[a.member_id]=n.value)})});let a=null;if(Object.keys(e).forEach(t=>{(null===a||e[t]>a.value)&&(a={member:"-",member_id:Number(t),value:e[t]})}),null===a)return{member:"-",member_id:0,value:0};const n=t.members.find(t=>{return t.id===a.member_id});return n?{...a,member:n.name}:a},sum:t=>{let e=0;return Object.values(t.ghg_balance).forEach(a=>{a.list.forEach(a=>{a.month===t.month&&(e+=Number(a.value))})}),e}},Lt={async members({commit:t}){const e=await Mt.getMembers();t("members",e)},async load({dispatch:t}){t("loadByType","electricity"),t("loadByType","ghg_emission"),t("loadGhgBalance"),t("loadFinance"),t("loadCarbonBurn")},async loadFinance({commit:t}){const e=await Mt.getFinanceBalances(),a={};e.forEach(t=>{a[t.member_id]=t.financial_balance}),t("setData",{type:"finance",data:a})},async loadCarbonBurn({commit:t}){const e=await Mt.getCarbonBurn(),a={};e.forEach(t=>{a[t.member_id]=t.vcu_burned}),t("setData",{type:"carbon_burn",data:a})},async loadGhgBalance({commit:t}){let e={};const a=await Mt.getGhgBalances(jt);a.balances.forEach(t=>{e[t.member_id]||(e[t.member_id]={member_id:t.member_id,list:[]}),e[t.member_id].list.push({month:a.month,value:t.balance})}),t("setData",{type:"ghg_balance",data:e})},async loadByType({commit:t},e){let a,n;"electricity"===e?(a="getElectricity",n="consumption"):"ghg_emission"===e&&(a="getGhgEmission",n="ghg_emission");const s=await Mt[a](),i={};s.forEach(t=>{t.records.forEach(e=>{i[e.member_id]||(i[e.member_id]={member_id:e.member_id,list:[]}),i[e.member_id].list.push({month:t.month,value:e[n]})})}),t("setData",{type:e,data:i})},save(t,e=!1){return Mt.postElectricity(e)}},Ft={members(t,e){t.members=e},setData(t,{type:e,data:a}){t[e]=a}};var qt={namespaced:!0,state:It,getters:Dt,actions:Lt,mutations:Ft};const Nt={profile:{},token:localStorage.getItem("user-token")||"",status:"",hasLoadedOnce:!1},Pt={isAuthenticated:t=>!!t.token,authStatus:t=>t.status,profile:t=>t.profile},zt={request({commit:t,dispatch:e},a){return new Promise((n,s)=>{t("request"),Mt.auth({url:"auth",data:a,method:"POST"}).then(a=>{localStorage.setItem("user-token",a.token),t("success",a),e("user"),n(a)}).catch(e=>{t("error",e),localStorage.removeItem("user-token"),s(e)})})},user({commit:t,dispatch:e,state:a}){t("request"),Mt.auth({url:"user/me",data:{token:a.token}}).then(e=>{t("user",e)}).catch(()=>{t("error"),e("logout")})},logout({commit:t}){return new Promise(e=>{t("logout"),localStorage.removeItem("user-token"),e()})}},Gt={request(t){t.status="loading"},success(t,e){t.status="success",t.token=e.token,t.hasLoadedOnce=!0},error(t){t.status="error",t.hasLoadedOnce=!0},logout(t){t.token=""},user(t,e){t.status="success",n["a"].set(t,"profile",e)}};var Ut={namespaced:!0,state:Nt,getters:Pt,actions:zt,mutations:Gt};n["a"].use(m["a"]);const Rt=!1;var Jt=new m["a"].Store({modules:{news:pt,data:qt,auth:Ut},strict:!0,plugins:Rt?[mt()()]:[]}),Ht=a("8c4f"),Wt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{fluid:""}},[a("v-row",[a("v-col",[a("p",{staticClass:"subheading text-center font-weight-regular"},[t._v(t._s(t.$t("desc_page")))])])],1),a("v-row",[a("v-col",{attrs:{lg:"6",cols:"12"}},[a("Map",{staticStyle:{height:"100%"}})],1),a("v-col",{attrs:{lg:"6",cols:"12"}},[a("Statistic",{staticStyle:{height:"100%"}})],1)],1),a("v-row",[a("v-col",{attrs:{lg:"6",cols:"12"}},[a("Resume",{staticStyle:{height:"100%"}})],1),a("v-col",{attrs:{lg:"6",cols:"12"}},[a("News",{staticStyle:{height:"100%"}})],1)],1)],1)},Kt=[],Yt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-card-title",[t._v("\n    "+t._s(t.$t("map.title"))+" \n    "),a("a",{staticClass:"body-2",attrs:{href:"https://public.tableau.com/profile/alisher2918#!/vizhome/NUDAOviz/CarbonBalanceMap?publish=yes",target:"_blank"}},[t._v(t._s(t.$t("map.more")))])]),a("iframe",{staticStyle:{width:"100%",height:"500px"},attrs:{frameborder:"0",allowtransparency:"true",allowfullscreen:"true",title:"data visualization",marginheight:"0",marginwidth:"0",src:"https://public.tableau.com/views/NUDAOviz/CarbonBalanceMap?:embed=y&:display_count=yes&publish=yes&:embed=y&:showVizHome=n&:tabs=n&position=right&:apiID=host0"}})],1)},Qt=[],Xt=a("b0af"),Zt=a("99d9"),te={},ee=Object(h["a"])(te,Yt,Qt,!1,null,null,null),ae=ee.exports;p()(ee,{VCard:Xt["a"],VCardTitle:Zt["c"]});var ne=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-tabs",{attrs:{grow:!0},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("v-tab",[t._v(t._s(t.$t("statistics.current_rating")))]),a("v-tab",[t._v(t._s(t.$t("statistics.all_rating")))])],1),a("v-tabs-items",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("v-tab-item",[a("v-data-table",{attrs:{"hide-default-footer":"","sort-by":t.sort,"sort-desc":!1,headers:t.headers,items:t.current},scopedSlots:t._u([{key:"item.name",fn:function(e){var n=e.item;return[a("img",{staticStyle:{"vertical-align":"middle"},style:t.getStyle(n.ghg_balance),attrs:{src:"assets/i/"+t.getIcon(n.ghg_balance)}}),t._v("\n          "+t._s(n.name)+"\n        ")]}},{key:"item.finance",fn:function(e){var a=e.item;return[t._v(t._s(Math.round(a.finance)))]}},{key:"item.electricity",fn:function(e){var a=e.item;return[t._v(t._s(Math.round(a.electricity)))]}},{key:"item.ghg_emission",fn:function(e){var a=e.item;return[t._v(t._s(Math.round(a.ghg_emission)))]}},{key:"item.ghg_balance",fn:function(e){var n=e.item;return[a("b",{class:t.getColor(n.ghg_balance)+"--text"},[t._v(t._s(Math.round(n.ghg_balance)))])]}}])})],1),a("v-tab-item",[a("v-data-table",{attrs:{"hide-default-footer":"","sort-by":t.sort,"sort-desc":!0,headers:t.headers,items:t.all},scopedSlots:t._u([{key:"item.name",fn:function(e){var n=e.item;return[a("img",{staticStyle:{"vertical-align":"middle"},style:t.getStyle(n.ghg_balance),attrs:{src:"assets/i/"+t.getIcon(n.ghg_balance)}}),t._v("\n          "+t._s(n.name)+"\n        ")]}},{key:"item.finance",fn:function(e){var a=e.item;return[t._v(t._s(Math.round(a.finance)))]}},{key:"item.electricity",fn:function(e){var a=e.item;return[t._v(t._s(Math.round(a.electricity)))]}},{key:"item.ghg_emission",fn:function(e){var a=e.item;return[t._v(t._s(Math.round(a.ghg_emission)))]}},{key:"item.ghg_balance",fn:function(e){var n=e.item;return[a("b",{class:t.getColor(n.ghg_balance)+"--text"},[t._v(t._s(Math.round(n.ghg_balance)))])]}}])})],1)],1)],1)},se=[],ie={computed:{...Object(m["b"])("data",["current","all"])},data:()=>({tab:null,sort:"ghg_balance",headers:[{text:"",sortable:!1,value:"name",width:"30%"},{text:rt.t("statistics.finance"),value:"finance"},{text:rt.t("statistics.electricity"),value:"electricity"},{text:rt.t("statistics.ghg"),value:"ghg_emission"},{text:rt.t("statistics.carbon_balance"),value:"ghg_balance"}]}),methods:{getIcon(t){return t<-5?"monster_green.png":t>-5&&t<5?"monster_orange.png":"monster_red.png"},getStyle(t){return t<-5?"width: 34px;margin-right: 5px;":t>-5&&t<5?"width: 34px;margin-right: 5px;":"width: 27px;margin-right: 7px;margin-left: 5px;"},getColor(t){return t<-5?"green":t>-5&&t<5?"orange":"red"}}},re=ie,oe=a("8fea"),le=a("71a3"),ce=a("c671"),me=a("fe57"),ue=a("aac8"),de=Object(h["a"])(re,ne,se,!1,null,null,null),ve=de.exports;p()(de,{VCard:Xt["a"],VDataTable:oe["a"],VTab:le["a"],VTabItem:ce["a"],VTabs:me["a"],VTabsItems:ue["a"]});var be=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-card-title",[t._v(t._s(t.$t("resume.title")))]),a("v-card-text",[a("ResumeScene",{staticStyle:{margin:"20px 0"},attrs:{dir:t.sum>0?"left":"right"}}),a("div",{staticClass:"d-flex justify-space-between align-stretch",staticStyle:{height:"100%"}},[a("div",{staticClass:"pa-5 text-center align-self-center"},[t._v("\n        "+t._s(t.$t("resume.enemy"))+"\n        "),a("br"),a("div",{staticClass:"display-1 mt-2"},[a("b",[t._v(t._s(t.max.member))])]),a("br"),a("span",{staticClass:"warning--text title"},[t._v(t._s(Math.round(t.max.value)))]),t._v(" tCO2\n      ")]),a("div",{staticClass:"pa-5 text-center align-self-center"},[t._v("\n        "+t._s(t.$t("resume.cumulative_result"))+"\n        "),a("br"),a("div",{staticClass:"display-1 mt-2"},[a("b",[t._v(t._s(t.$t("resume.univ_name")))])]),a("br"),a("span",{staticClass:"title",class:{"primary--text":t.sum<=0,"warning--text":t.sum>0}},[t._v(t._s(Math.round(t.sum)))]),t._v(" tCO2\n      ")]),a("div",{staticClass:"pa-5 text-center align-self-center"},[t._v("\n        "+t._s(t.$t("resume.friend"))+"\n        "),a("br"),a("div",{staticClass:"display-1 mt-2"},[a("b",[t._v(t._s(t.min.member))])]),a("br"),a("span",{staticClass:"primary--text title"},[t._v(t._s(Math.round(t.min.value)))]),t._v(" tCO2\n      ")])]),a("div",[a("p",[t._v("\n        "+t._s(t.$t("resume.state_goal"))+":\n        "),a("span",{staticClass:"green--text"},[t._v("-72 000")]),t._v("\n        tCO2 "+t._s(t.$t("resume.annual"))+"\n      ")]),a("p",[t._v("\n        "+t._s(t.$t("resume.contribution"))+":\n        "),a("span",{staticClass:"green--text"},[t._v(t._s(Math.round(t.sum)))]),t._v(" tCO2\n      ")]),a("p",[t._v("\n        "+t._s(t.$t("resume.global"))+":\n        "),a("span",{staticClass:"green--text"},[t._v("-36 000 000")]),t._v(" tCO2\n      ")])])],1)],1)},he=[],ge=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"animation-scene"}},[a("div",{attrs:{id:"animation-scene--content"}},[t._m(0),a("div",{staticClass:"animation-scales",class:"left"==t.dir?"animation-red":"animation-green"},[a("div",{staticClass:"sprite-basic-scales-part1"}),a("div",{staticClass:"sprite-basic-scales-part2"}),t._m(1)]),t._m(2)])])},pe=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"animation-dino--red"},[a("div",{staticClass:"sprite-basic-dino-red-body"}),a("div",{staticClass:"sprite-basic-dino-red-fire"}),a("div",{staticClass:"sprite-basic-dino-red-hand left"}),a("div",{staticClass:"sprite-basic-dino-red-hand right"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"animation-scales--move"},[a("div",{staticClass:"animation-scales--red"},[a("div",{staticClass:"sprite-basic-scales-red-top"}),a("div",{staticClass:"sprite-basic-scales-red-action"}),a("div",{staticClass:"sprite-basic-scales-red-bottom"})]),a("div",{staticClass:"animation-scales--green"},[a("div",{staticClass:"sprite-basic-scales-green-top"}),a("div",{staticClass:"sprite-basic-scales-green-action"}),a("div",{staticClass:"sprite-basic-scales-green-bottom"})]),a("div",{staticClass:"sprite-basic-scales-part3"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"animation-dino--green"},[a("div",{staticClass:"sprite-basic-dino-green-body"}),a("div",{staticClass:"sprite-basic-dino-green-brows"}),a("div",{staticClass:"sprite-basic-dino-green-leaf"}),a("div",{staticClass:"sprite-basic-dino-green-hand"})])}],fe={props:{dir:{type:String,default:"right"}},mounted(){const t=document.querySelector("#animation-scene"),e=document.querySelector("#animation-scene--content"),a=(t.offsetWidth/e.offsetWidth).toFixed(2);e.style.transform="scale("+a+")"}},_e=fe,ye=(a("4882"),Object(h["a"])(_e,ge,pe,!1,null,"4a833fbb",null)),we=ye.exports,xe={computed:{...Object(m["b"])("data",["min","max","sum"])},components:{ResumeScene:we}},ke=xe,Ce=Object(h["a"])(ke,be,he,!1,null,null,null),$e=Ce.exports;p()(Ce,{VCard:Xt["a"],VCardText:Zt["b"],VCardTitle:Zt["c"]});var Ve=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-card-title",[t._v(t._s(t.$t("news.publications")))]),t._l(t.list,function(e,n){return a("v-list-item",{key:n,attrs:{"two-line":""}},[e.icon?a("v-list-item-icon",[a("v-icon",[t._v("mdi-alert-circle-outline")])],1):t._e(),a("v-list-item-content",[a("v-list-item-subtitle",[t._v(t._s(e.pubDate))]),a("v-list-item-content",[a("a",{attrs:{href:e.link,target:"_blank"}},[t._v(t._s(e.title))])])],1)],1)})],2)},Oe=[],Ee={computed:{...Object(m["b"])("news",["list"])}},Se=Ee,Te=a("132d"),Me=a("34c3"),je=Object(h["a"])(Se,Ve,Oe,!1,null,null,null),Ae=je.exports;p()(je,{VCard:Xt["a"],VCardTitle:Zt["c"],VIcon:Te["a"],VListItem:O["a"],VListItemContent:E["a"],VListItemIcon:Me["a"],VListItemSubtitle:E["b"]});var Be={components:{Map:ae,Statistic:ve,Resume:$e,News:Ae}},Ie=Be,De=a("62ad"),Le=a("a523"),Fe=a("0fd9"),qe=Object(h["a"])(Ie,Wt,Kt,!1,null,null,null),Ne=qe.exports;p()(qe,{VCol:De["a"],VContainer:Le["a"],VRow:Fe["a"]});var Pe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{fluid:""}},[a("Statistic")],1)},ze=[],Ge={components:{Statistic:ve}},Ue=Ge,Re=Object(h["a"])(Ue,Pe,ze,!1,null,null,null),Je=Re.exports;p()(Re,{VContainer:Le["a"]});var He=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[a("v-row",{attrs:{align:"center",justify:"center"}},[a("v-col",{attrs:{cols:"12",sm:"8",md:"4"}},[a("v-card",{staticClass:"elevation-12"},[a("v-toolbar",{attrs:{color:"primary",dark:"",flat:""}},[a("v-toolbar-title",[t._v("Войти")])],1),a("v-card-text",[a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-text-field",{attrs:{rules:t.required,label:"Login","prepend-icon":"mdi-account",type:"text"},model:{value:t.form.fields.login,callback:function(e){t.$set(t.form.fields,"login",e)},expression:"form.fields.login"}}),a("v-text-field",{attrs:{rules:t.required,label:"Password","prepend-icon":"mdi-lastpass",type:"password"},model:{value:t.form.fields.password,callback:function(e){t.$set(t.form.fields,"password",e)},expression:"form.fields.password"}}),a("v-alert",{staticClass:"mb-4",attrs:{type:"error"},model:{value:t.error,callback:function(e){t.error=e},expression:"error"}},[t._v("Error")])],1)],1),a("v-card-actions",[a("div",{staticClass:"flex-grow-1"}),a("v-btn",{attrs:{color:"primary"},on:{click:t.submit}},[t._v("Войти")])],1)],1)],1)],1)],1)},We=[],Ke={data(){return{error:!1,valid:!0,form:{fields:{login:"",password:""}},required:[t=>!!t||"Field is required"]}},methods:{submit(){this.error=!1,this.$refs.form.validate()&&this.$store.dispatch("auth/request",{login:this.form.fields.login,password:this.form.fields.password}).then(()=>{this.$router.push("/")}).catch(()=>{this.error=!0})}}},Ye=Ke,Qe=a("0798"),Xe=a("4bd4"),Ze=a("8654"),ta=a("71d9"),ea=Object(h["a"])(Ye,He,We,!1,null,null,null),aa=ea.exports;p()(ea,{VAlert:Qe["a"],VBtn:f["a"],VCard:Xt["a"],VCardActions:Zt["a"],VCardText:Zt["b"],VCol:De["a"],VContainer:Le["a"],VForm:Xe["a"],VRow:Fe["a"],VTextField:Ze["a"],VToolbar:ta["a"],VToolbarTitle:_["b"]});var na=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[a("v-row",{attrs:{align:"center",justify:"center"}},[a("v-col",{attrs:{cols:"12",sm:"8",md:"4"}},[a("v-card",{staticClass:"elevation-12"},[a("v-toolbar",{attrs:{color:"primary",dark:"",flat:""}},[a("v-toolbar-title",[t._v("Новые данные")])],1),a("v-card-text",[a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{rules:t.required,label:"Date",type:"text"},model:{value:t.monthForm,callback:function(e){t.monthForm=e},expression:"monthForm"}})],1)],1)],1),t._l(t.rows,function(e,n){return a("div",{key:n},[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-text-field",{attrs:{rules:t.required,label:"Member",disabled:e.disabled,type:"text"},model:{value:e.member,callback:function(a){t.$set(e,"member",a)},expression:"row.member"}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-text-field",{attrs:{rules:t.required,label:"Consumption",type:"text"},model:{value:e.consumption,callback:function(a){t.$set(e,"consumption",a)},expression:"row.consumption"}})],1)],1)],1),a("v-divider")],1)})],2),a("v-alert",{staticClass:"mb-4",attrs:{type:"success"},model:{value:t.success,callback:function(e){t.success=e},expression:"success"}},[t._v("Data saved.")])],1),a("v-card-actions",[a("div",{staticClass:"flex-grow-1"}),a("v-btn",{attrs:{color:"primary",disabled:t.request},on:{click:t.submit}},[t._v("Сохранить")])],1)],1)],1)],1)],1)},sa=[],ia={data(){return{monthForm:"",success:!1,request:!1,valid:!0,rows:[{disabled:!1,member:"",consumption:""}],required:[t=>!!t||"Field is required"]}},computed:{...Object(m["b"])("auth",["profile"]),...Object(m["c"])("data",["members","month"])},watch:{members:function(){this.init()}},mounted(){this.monthForm=this.month,this.init()},methods:{init(){this.rows=[],this.members.forEach(t=>{this.rows.push({disabled:!0,member:t.name,consumption:""})})},add(){this.rows.push({disabled:!1,member:"",consumption:""})},submit(){if(this.$refs.form.validate()){this.request=!0;const t=[];this.rows.forEach(e=>{const a=this.members.find(t=>{return t.name===e.member});t.push({member_id:a.id,member_name:e.member,consumption:e.consumption})}),this.$store.dispatch("data/save",{author:this.profile.name,month:this.monthForm,records:t}).then(()=>{this.success=!0})}}}},ra=ia,oa=a("ce7e"),la=Object(h["a"])(ra,na,sa,!1,null,null,null),ca=la.exports;p()(la,{VAlert:Qe["a"],VBtn:f["a"],VCard:Xt["a"],VCardActions:Zt["a"],VCardText:Zt["b"],VCol:De["a"],VContainer:Le["a"],VDivider:oa["a"],VForm:Xe["a"],VRow:Fe["a"],VTextField:Ze["a"],VToolbar:ta["a"],VToolbarTitle:_["b"]}),n["a"].use(Ht["a"]);const ma=(t,e,a)=>{Jt.getters["auth/isAuthenticated"]?a("/"):a()},ua=(t,e,a)=>{Jt.getters["auth/isAuthenticated"]?a():a("/login")};var da=new Ht["a"]({mode:"history",base:"/NU_DAO/",routes:[{path:"/",name:"home",component:Ne},{path:"/stat",name:"stat",component:Je},{path:"/add",name:"add",component:ca,beforeEnter:ua},{path:"/login",name:"login",component:aa,beforeEnter:ma}]});n["a"].config.productionTip=!1,new n["a"]({vuetify:ot,i18n:rt,store:Jt,router:da,render:t=>t(Q)}).$mount("#app")}});
//# sourceMappingURL=app.f6af9813.js.map