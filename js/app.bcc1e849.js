(function(t){function e(e){for(var n,i,o=e[0],l=e[1],c=e[2],u=0,d=[];u<o.length;u++)i=o[u],r[i]&&d.push(r[i][0]),r[i]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);m&&m(e);while(d.length)d.shift()();return s.push.apply(s,c||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],n=!0,o=1;o<a.length;o++){var l=a[o];0!==r[l]&&(n=!1)}n&&(s.splice(e--,1),t=i(i.s=a[0]))}return t}var n={},r={app:0},s=[];function i(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=n,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(a,n,function(e){return t[e]}.bind(null,n));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var m=l;s.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"56d7":function(t,e,a){"use strict";a.r(e);var n=a("2b0e"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("Header"),a("v-content",[a("router-view")],1)],1)},s=[],i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("fragment",[a("v-navigation-drawer",{attrs:{app:"",absolute:"",temporary:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[a("MenuMobile")],1),a("v-app-bar",{attrs:{app:"",dark:"",color:"primary"}},[a("LangSwitcher"),a("v-spacer"),a("v-toolbar-title",{staticClass:"headline"},[a("router-link",{staticClass:"white--text",staticStyle:{"text-decoration":"none"},attrs:{to:"/"}},[t._v(t._s(t.$t("title")))])],1),a("v-spacer"),t.$vuetify.breakpoint.mdAndUp?a("MenuMain"):t._e(),t.$vuetify.breakpoint.smAndDown?a("v-app-bar-nav-icon",{on:{click:function(e){e.stopPropagation(),t.drawer=!t.drawer}}}):t._e()],1)],1)},o=[],l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-toolbar-items",[a("v-btn",{attrs:{text:"",title:"rinkeby",href:"https://dapp.ipci.io/#/dao/market/0xd86E7d6322F38646A37e2a713723d8B15347Be99",target:"_blank"}},[t._v(t._s(t.$t("menu.marketplace")))]),a("v-btn",{attrs:{text:"",href:"https://medium.com/@airalab",target:"_blank"}},[t._v(t._s(t.$t("menu.publications")))]),a("v-btn",{attrs:{text:"",to:{name:"stat"}}},[t._v(t._s(t.$t("menu.statistics")))]),t.isAuthenticated?a("v-btn",{attrs:{text:"",to:{name:"add"}}},[t._v(t._s(t.$t("menu.add")))]):t._e(),t.isAuthenticated?t._e():a("v-btn",{attrs:{text:"",to:{name:"login"}}},[t._v(t._s(t.$t("menu.login")))]),t.isAuthenticated?a("v-btn",{attrs:{text:""},on:{click:t.logout}},[t._v(t._s(t.$t("menu.logout")))]):t._e()],1)},c=[],m=a("2f62"),u={data(){return{items:{}}},methods:{logout:function(){this.$store.dispatch("auth/logout").then(()=>this.$router.push("/login"))}},computed:{...Object(m["b"])("auth",["isAuthenticated"])}},d={mixins:[u]},b=d,v=a("2877"),h=a("6544"),g=a.n(h),p=a("8336"),f=a("2a7f"),_=Object(v["a"])(b,l,c,!1,null,null,null),y=_.exports;g()(_,{VBtn:p["a"],VToolbarItems:f["a"]});var w=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-list",{attrs:{dense:""}},[a("v-list-item",{attrs:{href:"https://dapp.ipci.io/#/dao/market/0xd86E7d6322F38646A37e2a713723d8B15347Be99",target:"_blank"}},[a("v-list-item-content",[a("v-list-item-title",[t._v(t._s(t.$t("menu.marketplace")))])],1)],1),a("v-list-item",{attrs:{href:"https://medium.com/@airalab",target:"_blank"}},[a("v-list-item-content",[a("v-list-item-title",[t._v(t._s(t.$t("menu.publications")))])],1)],1),a("v-list-item",[a("v-list-item-content",[a("v-list-item-title",[t._v(t._s(t.$t("menu.statistics")))])],1)],1),t.isAuthenticated?a("v-list-item",{attrs:{to:{name:"add"}}},[a("v-list-item-content",[a("v-list-item-title",[t._v(t._s(t.$t("menu.add")))])],1)],1):t._e(),t.isAuthenticated?t._e():a("v-list-item",{attrs:{to:{name:"login"}}},[a("v-list-item-content",[a("v-list-item-title",[t._v(t._s(t.$t("menu.login")))])],1)],1),t.isAuthenticated?a("v-list-item",{on:{click:t.logout}},[a("v-list-item-content",[a("v-list-item-title",[t._v(t._s(t.$t("menu.logout")))])],1)],1):t._e()],1)},x=[],k={mixins:[u]},C=k,$=a("8860"),V=a("da13"),O=a("5d23"),E=Object(v["a"])(C,w,x,!1,null,null,null),S=E.exports;g()(E,{VList:$["a"],VListItem:V["a"],VListItemContent:O["a"],VListItemTitle:O["c"]});var T=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-menu",{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[a("v-btn",t._g({attrs:{icon:""}},n),[t._v(t._s(t.$i18n.locale))])]}}])},[a("v-list",t._l(t.langs,function(e,n){return a("v-list-item",{directives:[{name:"show",rawName:"v-show",value:t.$i18n.locale!=e,expression:"$i18n.locale != lang"}],key:n,on:{click:function(a){return t.changeLang(e)}}},[a("v-list-item-title",{staticClass:"text-uppercase"},[t._v(t._s(e))])],1)}),1)],1)},M=[],j={data:()=>({langs:["en","ru"]}),methods:{changeLang(t){window.localStorage.lang=t,this.$i18n.locale=t}}},A=j,B=a("e449"),L=Object(v["a"])(A,T,M,!1,null,null,null),D=L.exports;g()(L,{VBtn:p["a"],VList:$["a"],VListItem:V["a"],VListItemTitle:O["c"],VMenu:B["a"]});var I={data:()=>({drawer:!1}),components:{MenuMain:y,MenuMobile:S,LangSwitcher:D}},F=I,q=a("40dc"),N=a("5bc1"),P=a("f774"),z=a("2fa4"),G=Object(v["a"])(F,i,o,!1,null,null,null),U=G.exports;g()(G,{VAppBar:q["a"],VAppBarNavIcon:N["a"],VNavigationDrawer:P["a"],VSpacer:z["a"],VToolbarTitle:f["b"]});var R={components:{Header:U},mounted(){this.$store.getters["auth/isAuthenticated"]&&this.$store.dispatch("auth/user"),this.$store.dispatch("data/members"),this.$store.dispatch("data/load",!1),this.$store.dispatch("news/load")}},J=R,H=a("7496"),K=a("a75b"),W=Object(v["a"])(J,r,s,!1,null,null,null),Y=W.exports;g()(W,{VApp:H["a"],VContent:K["a"]});var Q=a("f309"),X=a("a925"),Z=a("da5b"),tt=a.n(Z),et=a("2992"),at=a.n(et),nt={en:{$vuetify:tt.a,title:"NU DAO",desc_page:"Nazarbayev University market system model for greenhouse gases emission reduction",menu:{marketplace:"Marketplace",publications:"Publications",statistics:"Statistics",add:"Add",login:"Login",logout:"Logout"},map:{title:"Carbon balance (to same month in 2018)",more:"more"},statistics:{current_rating:"This month tops",all_rating:"All time tops",ghg:"CO2 emission, ton",electricity:"Electricity comsumed, kWh",finance:"Balance, ₸",carbon_balance:"Carbon balance, tCO2"},resume:{title:"Leaders of the Month",enemy:"Fossil of the Month",friend:"Friend of Month",cumulative_result:"Cumulative result",univ_name:"Nazarbayev University",state_goal:"Kazakhstan state goal",annual:"annual",contribution:"NU contribution",global:"Global goal to keep global warming under 1.5°"},news:{publications:"Publications"}},ru:{$vuetify:at.a,title:"НУ ДАО",desc_page:"Модель рыночной системы снижения выбросов парниковых газов Назарбаев Университета",menu:{marketplace:"Торговая площадка",publications:"Публикации",statistics:"Статистика",add:"Добавить",login:"Войти",logout:"Выйти"},map:{title:"Углеродный баланс (к тому же месяцу 2018)",more:"подробнее"},statistics:{current_rating:"Текущий рейтинг",all_rating:"Рейтинг за все время",ghg:"Выбросов CO2, тонн",electricity:"Потреблено электроэнергии, кВт * ч",finance:"Баланс, ₸",carbon_balance:"Углеродный баланс, tCO2"},resume:{title:"Лидеры месяца",enemy:"Поджигатель месяца",friend:"Друг месяца",cumulative_result:"Совокупный результат",univ_name:"Назарбаев Университета",state_goal:"Национальная цель Казахстана",annual:"за год",contribution:"Вклад НУ",global:"Глобальная цель для удержания роста температуры до 1,5°"},news:{publications:"Публикации"}}};n["a"].use(X["a"]);const rt=window.localStorage.lang||"en";var st=new X["a"]({locale:rt,fallbackLocale:"en",messages:nt});n["a"].use(Q["a"]);var it=new Q["a"]({lang:{t:(t,...e)=>st.t(t,e)},icons:{iconfont:"mdi"},theme:{themes:{light:{primary:"#4caf50",secondary:"#009688",accent:"#8bc34a",error:"#f44336",warning:"#ff5722",info:"#00bcd4",success:"#03a9f4"}}}}),ot=a("3f08");n["a"].use(ot["a"].Plugin);var lt=a("b054"),ct=a.n(lt),mt=a("bc3a"),ut=a.n(mt);const dt={list:[]},bt={},vt={load({commit:t}){let e=!1;const a=JSON.parse(localStorage.getItem("key"));a&&a.timestamp+6e5>(new Date).getTime()&&(t("news",a.list),e=!0),e||ut.a.get("https://api.rss2json.com/v1/api.json?rss_url=https://medium.com/feed/@airalab").then(e=>{const a=e.data.items.slice(0,5).map(t=>{return{title:t.title,link:t.link,pubDate:new Date(t.pubDate).toLocaleString()}});t("news",a),localStorage.setItem("key",JSON.stringify({list:a,timestamp:(new Date).getTime()}))})}},ht={news(t,e){t.list=e}};var gt={namespaced:!0,state:dt,getters:bt,actions:vt,mutations:ht};const pt="https://hbrz.khassanov.me/api/v1";function ft(t){return ut.a.get(pt+t).then(t=>{return t.data})}function _t(t,e){return ut.a.post(pt+t,e)}var yt={get:ft,post:_t};function wt(){return yt.get("/members")}function xt(){return yt.get("/members/electricity/consumptions")}function kt(){return yt.get("/members/ghg/emissions")}function Ct(t){return yt.get("/members/ghg/balances?month="+t+"&mitigated=true")}function $t(){return yt.get("/members/finance/balances")}function Vt(){return yt.get("/members/finance/carbon_units_burned")}function Ot(t){return yt.post("/members/electricity/consumptions",t)}const Et={auth:{POST:t=>{if("admin"===t.login&&"admin"===t.password)return{token:"This-is-a-mocked-token"};throw new Error("err")}},"user/me":{GET:t=>{if("This-is-a-mocked-token"===t.token)return{name:"admin"};throw new Error("err")}}};function St({url:t,method:e,data:a}){return new Promise((n,r)=>{setTimeout(()=>{try{n(Et[t][e||"GET"](a))}catch(s){r(new Error(s))}},1e3)})}var Tt={getMembers:wt,getElectricity:xt,getGhgEmission:kt,getGhgBalances:Ct,getFinanceBalances:$t,getCarbonBurn:Vt,postElectricity:Ot,auth:St};let Mt=null;const jt=new Date;jt.setMonth(jt.getMonth()-1);let At=jt.getMonth()+1;At<10&&(At="0"+At),Mt=At+"/"+jt.getFullYear();const Bt={month:Mt,members:[],electricity:{},ghg_emission:{},ghg_balance:{},finance:{},carbon_burn:{}},Lt={member:t=>(e,a=!1)=>{const n=t.members.find(t=>{return t.id===e}),r={name:n.name,electricity:0,ghg_emission:0,ghg_balance:0,finance:0};if(a){if(t.electricity[e]){const n=t.electricity[e].list.find(t=>{return t.month===a});n&&(r.electricity=n.value)}if(t.ghg_emission[e]){const n=t.ghg_emission[e].list.find(t=>{return t.month===a});n&&(r.ghg_emission=n.value)}if(t.ghg_balance[e]){const n=t.ghg_balance[e].list.find(t=>{return t.month===a});n&&(r.ghg_balance=n.value)}t.finance[e]&&(r.finance=t.finance[e]),t.carbon_burn[e]&&(r.carbon_burn=t.carbon_burn[e])}else t.electricity[e]&&t.electricity[e].list.forEach(t=>{r.electricity+=t.value}),t.ghg_emission[e]&&t.ghg_emission[e].list.forEach(t=>{r.ghg_emission+=t.value}),t.ghg_balance[e]&&t.ghg_balance[e].list.forEach(t=>{r.ghg_balance+=t.value}),t.finance[e]&&(r.finance=t.finance[e]),t.carbon_burn[e]&&(r.carbon_burn=t.carbon_burn[e]);return r},current:(t,e)=>{return t.members.map(a=>{return e.member(a.id,t.month)})},all:(t,e)=>{return t.members.map(t=>{return e.member(t.id,!1)})},min:t=>{const e={};Object.values(t.ghg_balance).forEach(a=>{e[a.member_id]=0,a.list.forEach(n=>{n.month===t.month&&(e[a.member_id]=n.value)})});let a=null;if(Object.keys(e).forEach(t=>{(null===a||e[t]<a.value)&&(a={member:"-",member_id:Number(t),value:e[t]})}),null===a)return{member:"-",member_id:0,value:0};const n=t.members.find(t=>{return t.id===a.member_id});return n?{...a,member:n.name}:a},max:t=>{const e={};Object.values(t.ghg_balance).forEach(a=>{e[a.member_id]=0,a.list.forEach(n=>{n.month===t.month&&(e[a.member_id]=n.value)})});let a=null;if(Object.keys(e).forEach(t=>{(null===a||e[t]>a.value)&&(a={member:"-",member_id:Number(t),value:e[t]})}),null===a)return{member:"-",member_id:0,value:0};const n=t.members.find(t=>{return t.id===a.member_id});return n?{...a,member:n.name}:a},sum:t=>{let e=0;return Object.values(t.ghg_balance).forEach(a=>{a.list.forEach(a=>{a.month===t.month&&(e+=Number(a.value))})}),e}},Dt={async members({commit:t}){const e=await Tt.getMembers();t("members",e)},async load({dispatch:t}){t("loadByType","electricity"),t("loadByType","ghg_emission"),t("loadGhgBalance"),t("loadFinance"),t("loadCarbonBurn")},async loadFinance({commit:t}){const e=await Tt.getFinanceBalances(),a={};e.forEach(t=>{a[t.member_id]=t.financial_balance}),t("setData",{type:"finance",data:a})},async loadCarbonBurn({commit:t}){const e=await Tt.getCarbonBurn(),a={};e.forEach(t=>{a[t.member_id]=t.vcu_burned}),t("setData",{type:"carbon_burn",data:a})},async loadGhgBalance({commit:t}){let e={};const a=await Tt.getGhgBalances(Mt);a.balances.forEach(t=>{e[t.member_id]||(e[t.member_id]={member_id:t.member_id,list:[]}),e[t.member_id].list.push({month:a.month,value:t.balance})}),t("setData",{type:"ghg_balance",data:e})},async loadByType({commit:t},e){let a,n;"electricity"===e?(a="getElectricity",n="consumption"):"ghg_emission"===e&&(a="getGhgEmission",n="ghg_emission");const r=await Tt[a](),s={};r.forEach(t=>{t.records.forEach(e=>{s[e.member_id]||(s[e.member_id]={member_id:e.member_id,list:[]}),s[e.member_id].list.push({month:t.month,value:e[n]})})}),t("setData",{type:e,data:s})},save(t,e=!1){return Tt.postElectricity(e)}},It={members(t,e){t.members=e},setData(t,{type:e,data:a}){t[e]=a}};var Ft={namespaced:!0,state:Bt,getters:Lt,actions:Dt,mutations:It};const qt={profile:{},token:localStorage.getItem("user-token")||"",status:"",hasLoadedOnce:!1},Nt={isAuthenticated:t=>!!t.token,authStatus:t=>t.status,profile:t=>t.profile},Pt={request({commit:t,dispatch:e},a){return new Promise((n,r)=>{t("request"),Tt.auth({url:"auth",data:a,method:"POST"}).then(a=>{localStorage.setItem("user-token",a.token),t("success",a),e("user"),n(a)}).catch(e=>{t("error",e),localStorage.removeItem("user-token"),r(e)})})},user({commit:t,dispatch:e,state:a}){t("request"),Tt.auth({url:"user/me",data:{token:a.token}}).then(e=>{t("user",e)}).catch(()=>{t("error"),e("logout")})},logout({commit:t}){return new Promise(e=>{t("logout"),localStorage.removeItem("user-token"),e()})}},zt={request(t){t.status="loading"},success(t,e){t.status="success",t.token=e.token,t.hasLoadedOnce=!0},error(t){t.status="error",t.hasLoadedOnce=!0},logout(t){t.token=""},user(t,e){t.status="success",n["a"].set(t,"profile",e)}};var Gt={namespaced:!0,state:qt,getters:Nt,actions:Pt,mutations:zt};n["a"].use(m["a"]);const Ut=!1;var Rt=new m["a"].Store({modules:{news:gt,data:Ft,auth:Gt},strict:!0,plugins:Ut?[ct()()]:[]}),Jt=a("8c4f"),Ht=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{fluid:""}},[a("v-row",[a("v-col",[a("p",{staticClass:"subheading text-center font-weight-regular"},[t._v(t._s(t.$t("desc_page")))])])],1),a("v-row",[a("v-col",{attrs:{lg:"6",cols:"12"}},[a("Map",{staticStyle:{height:"100%"}})],1),a("v-col",{attrs:{lg:"6",cols:"12"}},[a("Statistic",{staticStyle:{height:"100%"}})],1)],1),a("v-row",[a("v-col",{attrs:{lg:"6",cols:"12"}},[a("Resume",{staticStyle:{height:"100%"}})],1),a("v-col",{attrs:{lg:"6",cols:"12"}},[a("News",{staticStyle:{height:"100%"}})],1)],1)],1)},Kt=[],Wt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-card-title",[t._v("\n    "+t._s(t.$t("map.title"))+" \n    "),a("a",{staticClass:"body-2",attrs:{href:"https://public.tableau.com/profile/alisher2918#!/vizhome/NUDAOviz/CarbonBalanceMap?publish=yes",target:"_blank"}},[t._v(t._s(t.$t("map.more")))])]),a("iframe",{staticStyle:{width:"100%",height:"500px"},attrs:{frameborder:"0",allowtransparency:"true",allowfullscreen:"true",title:"data visualization",marginheight:"0",marginwidth:"0",src:"https://public.tableau.com/views/NUDAOviz/CarbonBalanceMap?:embed=y&:display_count=yes&publish=yes&:embed=y&:showVizHome=n&:tabs=n&position=right&:apiID=host0"}})],1)},Yt=[],Qt=a("b0af"),Xt=a("99d9"),Zt={},te=Object(v["a"])(Zt,Wt,Yt,!1,null,null,null),ee=te.exports;g()(te,{VCard:Qt["a"],VCardTitle:Xt["c"]});var ae=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-tabs",{attrs:{grow:!0},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("v-tab",[t._v(t._s(t.$t("statistics.current_rating")))]),a("v-tab",[t._v(t._s(t.$t("statistics.all_rating")))])],1),a("v-tabs-items",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("v-tab-item",[a("v-data-table",{attrs:{"hide-default-footer":"","sort-by":t.sort,"sort-desc":!1,headers:t.headers,items:t.current},scopedSlots:t._u([{key:"item.name",fn:function(e){var n=e.item;return[a("img",{staticStyle:{width:"22px","vertical-align":"middle","margin-right":"5px"},attrs:{src:"assets/i/"+t.getIcon(n.ghg_balance)}}),t._v("\n          "+t._s(n.name)+"\n        ")]}},{key:"item.finance",fn:function(e){var a=e.item;return[t._v(t._s(Math.round(a.finance)))]}},{key:"item.electricity",fn:function(e){var a=e.item;return[t._v(t._s(Math.round(a.electricity)))]}},{key:"item.ghg_emission",fn:function(e){var a=e.item;return[t._v(t._s(Math.round(a.ghg_emission)))]}},{key:"item.ghg_balance",fn:function(e){var n=e.item;return[a("b",{class:t.getColor(n.ghg_balance)+"--text"},[t._v(t._s(Math.round(n.ghg_balance)))])]}}])})],1),a("v-tab-item",[a("v-data-table",{attrs:{"hide-default-footer":"","sort-by":t.sort,"sort-desc":!0,headers:t.headers,items:t.all},scopedSlots:t._u([{key:"item.name",fn:function(e){var n=e.item;return[a("img",{staticStyle:{width:"22px","vertical-align":"middle","margin-right":"5px"},attrs:{src:"assets/i/"+t.getIcon(n.ghg_balance)}}),t._v("\n          "+t._s(n.name)+"\n        ")]}},{key:"item.finance",fn:function(e){var a=e.item;return[t._v(t._s(Math.round(a.finance)))]}},{key:"item.electricity",fn:function(e){var a=e.item;return[t._v(t._s(Math.round(a.electricity)))]}},{key:"item.ghg_emission",fn:function(e){var a=e.item;return[t._v(t._s(Math.round(a.ghg_emission)))]}},{key:"item.ghg_balance",fn:function(e){var n=e.item;return[a("b",{class:t.getColor(n.ghg_balance)+"--text"},[t._v(t._s(Math.round(n.ghg_balance)))])]}}])})],1)],1)],1)},ne=[],re={computed:{...Object(m["b"])("data",["current","all"])},data:()=>({tab:null,sort:"ghg_balance",headers:[{text:"",sortable:!1,value:"name",width:"30%"},{text:st.t("statistics.finance"),value:"finance"},{text:st.t("statistics.electricity"),value:"electricity"},{text:st.t("statistics.ghg"),value:"ghg_emission"},{text:st.t("statistics.carbon_balance"),value:"ghg_balance"}]}),methods:{getIcon(t){return t<-5?"green.png":t>-5&&t<5?"orange.png":"red.png"},getColor(t){return t<-5?"green":t>-5&&t<5?"orange":"red"}}},se=re,ie=a("8fea"),oe=a("71a3"),le=a("c671"),ce=a("fe57"),me=a("aac8"),ue=Object(v["a"])(se,ae,ne,!1,null,null,null),de=ue.exports;g()(ue,{VCard:Qt["a"],VDataTable:ie["a"],VTab:oe["a"],VTabItem:le["a"],VTabs:ce["a"],VTabsItems:me["a"]});var be=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-card-title",[t._v(t._s(t.$t("resume.title")))]),a("v-card-text",[a("div",{staticClass:"d-flex justify-space-between align-stretch",staticStyle:{height:"100%"}},[a("div",{staticClass:"pa-5 text-center align-self-center"},[a("img",{attrs:{src:"assets/i/fossil.png"}}),a("br"),t._v("\n        "+t._s(t.$t("resume.enemy"))+"\n        "),a("br"),a("div",{staticClass:"display-1 mt-2"},[a("b",[t._v(t._s(t.max.member))])]),a("br"),a("span",{staticClass:"warning--text title"},[t._v(t._s(Math.round(t.max.value)))]),t._v(" tCO2\n      ")]),a("div",{staticClass:"pa-5 text-center align-self-center"},[a("img",{attrs:{src:"assets/i/libra.gif"}}),a("br"),t._v("\n        "+t._s(t.$t("resume.cumulative_result"))+"\n        "),a("br"),a("div",{staticClass:"display-1 mt-2"},[a("b",[t._v(t._s(t.$t("resume.univ_name")))])]),a("br"),a("span",{staticClass:"title",class:{"primary--text":t.sum<=0,"warning--text":t.sum>0}},[t._v(t._s(Math.round(t.sum)))]),t._v(" tCO2\n      ")]),a("div",{staticClass:"pa-5 text-center align-self-center"},[a("img",{attrs:{src:"assets/i/friend.png"}}),a("br"),t._v("\n        "+t._s(t.$t("resume.friend"))+"\n        "),a("br"),a("div",{staticClass:"display-1 mt-2"},[a("b",[t._v(t._s(t.min.member))])]),a("br"),a("span",{staticClass:"primary--text title"},[t._v(t._s(Math.round(t.min.value)))]),t._v(" tCO2\n      ")])]),a("div",[a("p",[t._v("\n        "+t._s(t.$t("resume.state_goal"))+":\n        "),a("span",{staticClass:"green--text"},[t._v("-72 000")]),t._v("\n        tCO2 "+t._s(t.$t("resume.annual"))+"\n      ")]),a("p",[t._v("\n        "+t._s(t.$t("resume.contribution"))+":\n        "),a("span",{staticClass:"green--text"},[t._v(t._s(Math.round(t.sum)))]),t._v(" tCO2\n      ")]),a("p",[t._v("\n        "+t._s(t.$t("resume.global"))+":\n        "),a("span",{staticClass:"green--text"},[t._v("-36 000 000")]),t._v(" tCO2\n      ")])])])],1)},ve=[],he={computed:{...Object(m["b"])("data",["min","max","sum"])}},ge=he,pe=Object(v["a"])(ge,be,ve,!1,null,null,null),fe=pe.exports;g()(pe,{VCard:Qt["a"],VCardText:Xt["b"],VCardTitle:Xt["c"]});var _e=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-card-title",[t._v(t._s(t.$t("news.publications")))]),t._l(t.list,function(e,n){return a("v-list-item",{key:n,attrs:{"two-line":""}},[a("v-list-item-content",[a("v-list-item-subtitle",[t._v(t._s(e.pubDate))]),a("v-list-item-content",[a("a",{attrs:{href:e.link,target:"_blank"}},[t._v(t._s(e.title))])])],1)],1)})],2)},ye=[],we={computed:{...Object(m["c"])("news",["list"])}},xe=we,ke=Object(v["a"])(xe,_e,ye,!1,null,null,null),Ce=ke.exports;g()(ke,{VCard:Qt["a"],VCardTitle:Xt["c"],VListItem:V["a"],VListItemContent:O["a"],VListItemSubtitle:O["b"]});var $e={components:{Map:ee,Statistic:de,Resume:fe,News:Ce}},Ve=$e,Oe=a("62ad"),Ee=a("a523"),Se=a("0fd9"),Te=Object(v["a"])(Ve,Ht,Kt,!1,null,null,null),Me=Te.exports;g()(Te,{VCol:Oe["a"],VContainer:Ee["a"],VRow:Se["a"]});var je=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{fluid:""}},[a("Statistic")],1)},Ae=[],Be={components:{Statistic:de}},Le=Be,De=Object(v["a"])(Le,je,Ae,!1,null,null,null),Ie=De.exports;g()(De,{VContainer:Ee["a"]});var Fe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[a("v-row",{attrs:{align:"center",justify:"center"}},[a("v-col",{attrs:{cols:"12",sm:"8",md:"4"}},[a("v-card",{staticClass:"elevation-12"},[a("v-toolbar",{attrs:{color:"primary",dark:"",flat:""}},[a("v-toolbar-title",[t._v("Войти")])],1),a("v-card-text",[a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-text-field",{attrs:{rules:t.required,label:"Login","prepend-icon":"mdi-account",type:"text"},model:{value:t.form.fields.login,callback:function(e){t.$set(t.form.fields,"login",e)},expression:"form.fields.login"}}),a("v-text-field",{attrs:{rules:t.required,label:"Password","prepend-icon":"mdi-lastpass",type:"password"},model:{value:t.form.fields.password,callback:function(e){t.$set(t.form.fields,"password",e)},expression:"form.fields.password"}}),a("v-alert",{staticClass:"mb-4",attrs:{type:"error"},model:{value:t.error,callback:function(e){t.error=e},expression:"error"}},[t._v("Error")])],1)],1),a("v-card-actions",[a("div",{staticClass:"flex-grow-1"}),a("v-btn",{attrs:{color:"primary"},on:{click:t.submit}},[t._v("Войти")])],1)],1)],1)],1)],1)},qe=[],Ne={data(){return{error:!1,valid:!0,form:{fields:{login:"",password:""}},required:[t=>!!t||"Field is required"]}},methods:{submit(){this.error=!1,this.$refs.form.validate()&&this.$store.dispatch("auth/request",{login:this.form.fields.login,password:this.form.fields.password}).then(()=>{this.$router.push("/")}).catch(()=>{this.error=!0})}}},Pe=Ne,ze=a("0798"),Ge=a("4bd4"),Ue=a("8654"),Re=a("71d9"),Je=Object(v["a"])(Pe,Fe,qe,!1,null,null,null),He=Je.exports;g()(Je,{VAlert:ze["a"],VBtn:p["a"],VCard:Qt["a"],VCardActions:Xt["a"],VCardText:Xt["b"],VCol:Oe["a"],VContainer:Ee["a"],VForm:Ge["a"],VRow:Se["a"],VTextField:Ue["a"],VToolbar:Re["a"],VToolbarTitle:f["b"]});var Ke=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[a("v-row",{attrs:{align:"center",justify:"center"}},[a("v-col",{attrs:{cols:"12",sm:"8",md:"4"}},[a("v-card",{staticClass:"elevation-12"},[a("v-toolbar",{attrs:{color:"primary",dark:"",flat:""}},[a("v-toolbar-title",[t._v("Новые данные")])],1),a("v-card-text",[a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{rules:t.required,label:"Date",type:"text"},model:{value:t.monthForm,callback:function(e){t.monthForm=e},expression:"monthForm"}})],1)],1)],1),t._l(t.rows,function(e,n){return a("div",{key:n},[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-text-field",{attrs:{rules:t.required,label:"Member",disabled:e.disabled,type:"text"},model:{value:e.member,callback:function(a){t.$set(e,"member",a)},expression:"row.member"}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-text-field",{attrs:{rules:t.required,label:"Consumption",type:"text"},model:{value:e.consumption,callback:function(a){t.$set(e,"consumption",a)},expression:"row.consumption"}})],1)],1)],1),a("v-divider")],1)})],2),a("v-alert",{staticClass:"mb-4",attrs:{type:"success"},model:{value:t.success,callback:function(e){t.success=e},expression:"success"}},[t._v("Data saved.")])],1),a("v-card-actions",[a("div",{staticClass:"flex-grow-1"}),a("v-btn",{attrs:{color:"primary",disabled:t.request},on:{click:t.submit}},[t._v("Сохранить")])],1)],1)],1)],1)],1)},We=[],Ye={data(){return{monthForm:"",success:!1,request:!1,valid:!0,rows:[{disabled:!1,member:"",consumption:""}],required:[t=>!!t||"Field is required"]}},computed:{...Object(m["b"])("auth",["profile"]),...Object(m["c"])("data",["members","month"])},watch:{members:function(){this.init()}},mounted(){this.monthForm=this.month,this.init()},methods:{init(){this.rows=[],this.members.forEach(t=>{this.rows.push({disabled:!0,member:t.name,consumption:""})})},add(){this.rows.push({disabled:!1,member:"",consumption:""})},submit(){if(this.$refs.form.validate()){this.request=!0;const t=[];this.rows.forEach(e=>{const a=this.members.find(t=>{return t.name===e.member});t.push({member_id:a.id,member_name:e.member,consumption:e.consumption})}),this.$store.dispatch("data/save",{author:this.profile.name,month:this.monthForm,records:t}).then(()=>{this.success=!0})}}}},Qe=Ye,Xe=a("ce7e"),Ze=Object(v["a"])(Qe,Ke,We,!1,null,null,null),ta=Ze.exports;g()(Ze,{VAlert:ze["a"],VBtn:p["a"],VCard:Qt["a"],VCardActions:Xt["a"],VCardText:Xt["b"],VCol:Oe["a"],VContainer:Ee["a"],VDivider:Xe["a"],VForm:Ge["a"],VRow:Se["a"],VTextField:Ue["a"],VToolbar:Re["a"],VToolbarTitle:f["b"]}),n["a"].use(Jt["a"]);const ea=(t,e,a)=>{Rt.getters["auth/isAuthenticated"]?a("/"):a()},aa=(t,e,a)=>{Rt.getters["auth/isAuthenticated"]?a():a("/login")};var na=new Jt["a"]({mode:"history",base:"",routes:[{path:"/",name:"home",component:Me},{path:"/stat",name:"stat",component:Ie},{path:"/add",name:"add",component:ta,beforeEnter:aa},{path:"/login",name:"login",component:He,beforeEnter:ea}]});n["a"].config.productionTip=!1,new n["a"]({vuetify:it,i18n:st,store:Rt,router:na,render:t=>t(Y)}).$mount("#app")}});
//# sourceMappingURL=app.bcc1e849.js.map