(function(e){function t(t){for(var n,s,o=t[0],l=t[1],c=t[2],u=0,d=[];u<o.length;u++)s=o[u],r[s]&&d.push(r[s][0]),r[s]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);m&&m(t);while(d.length)d.shift()();return i.push.apply(i,c||[]),a()}function a(){for(var e,t=0;t<i.length;t++){for(var a=i[t],n=!0,o=1;o<a.length;o++){var l=a[o];0!==r[l]&&(n=!1)}n&&(i.splice(t--,1),e=s(s.s=a[0]))}return e}var n={},r={app:0},i=[];function s(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=e,s.c=n,s.d=function(e,t,a){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(a,n,function(t){return e[t]}.bind(null,n));return a},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var m=l;i.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"56d7":function(e,t,a){"use strict";a.r(t);var n=a("2b0e"),r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("Header"),a("v-content",[a("router-view")],1)],1)},i=[],s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("fragment",[a("v-navigation-drawer",{attrs:{app:"",absolute:"",temporary:""},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[a("MenuMobile")],1),a("v-app-bar",{attrs:{app:"",dark:"",color:"primary"}},[a("LangSwitcher"),a("v-spacer"),a("v-toolbar-title",{staticClass:"headline"},[a("router-link",{staticClass:"white--text",staticStyle:{"text-decoration":"none"},attrs:{to:"/"}},[e._v(e._s(e.$t("title")))])],1),a("v-spacer"),e.$vuetify.breakpoint.mdAndUp?a("MenuMain"):e._e(),e.$vuetify.breakpoint.smAndDown?a("v-app-bar-nav-icon",{on:{click:function(t){t.stopPropagation(),e.drawer=!e.drawer}}}):e._e()],1)],1)},o=[],l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-toolbar-items",[a("v-btn",{attrs:{text:"",title:"rinkeby",href:"https://dapp.ipci.io/#/dao/market/0xd86E7d6322F38646A37e2a713723d8B15347Be99",target:"_blank"}},[e._v(e._s(e.$t("menu.marketplace")))]),a("v-btn",{attrs:{text:"",href:"https://medium.com/@airalab",target:"_blank"}},[e._v(e._s(e.$t("menu.publications")))]),a("v-btn",{attrs:{text:"",to:{name:"stat"}}},[e._v(e._s(e.$t("menu.statistics")))]),e.isAuthenticated?a("v-btn",{attrs:{text:"",to:{name:"add"}}},[e._v(e._s(e.$t("menu.add")))]):e._e(),e.isAuthenticated?e._e():a("v-btn",{attrs:{text:"",to:{name:"login"}}},[e._v(e._s(e.$t("menu.login")))]),e.isAuthenticated?a("v-btn",{attrs:{text:""},on:{click:e.logout}},[e._v(e._s(e.$t("menu.logout")))]):e._e()],1)},c=[],m=a("2f62"),u={data(){return{items:{}}},methods:{logout:function(){this.$store.dispatch("auth/logout").then(()=>this.$router.push("/login"))}},computed:{...Object(m["b"])("auth",["isAuthenticated"])}},d={mixins:[u]},b=d,h=a("2877"),v=a("6544"),g=a.n(v),f=a("8336"),p=a("2a7f"),_=Object(h["a"])(b,l,c,!1,null,null,null),y=_.exports;g()(_,{VBtn:f["a"],VToolbarItems:p["a"]});var w=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-list",{attrs:{dense:""}},[a("v-list-item",{attrs:{href:"https://dapp.ipci.io/#/dao/market/0xd86E7d6322F38646A37e2a713723d8B15347Be99",target:"_blank"}},[a("v-list-item-content",[a("v-list-item-title",[e._v(e._s(e.$t("menu.marketplace")))])],1)],1),a("v-list-item",{attrs:{href:"https://medium.com/@airalab",target:"_blank"}},[a("v-list-item-content",[a("v-list-item-title",[e._v(e._s(e.$t("menu.publications")))])],1)],1),a("v-list-item",[a("v-list-item-content",[a("v-list-item-title",[e._v(e._s(e.$t("menu.statistics")))])],1)],1),e.isAuthenticated?a("v-list-item",{attrs:{to:{name:"add"}}},[a("v-list-item-content",[a("v-list-item-title",[e._v(e._s(e.$t("menu.add")))])],1)],1):e._e(),e.isAuthenticated?e._e():a("v-list-item",{attrs:{to:{name:"login"}}},[a("v-list-item-content",[a("v-list-item-title",[e._v(e._s(e.$t("menu.login")))])],1)],1),e.isAuthenticated?a("v-list-item",{on:{click:e.logout}},[a("v-list-item-content",[a("v-list-item-title",[e._v(e._s(e.$t("menu.logout")))])],1)],1):e._e()],1)},x=[],k={mixins:[u]},C=k,V=a("8860"),$=a("da13"),O=a("5d23"),T=Object(h["a"])(C,w,x,!1,null,null,null),E=T.exports;g()(T,{VList:V["a"],VListItem:$["a"],VListItemContent:O["a"],VListItemTitle:O["c"]});var S=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-menu",{attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[a("v-btn",e._g({attrs:{icon:""}},n),[e._v(e._s(e.$i18n.locale))])]}}])},[a("v-list",e._l(e.langs,function(t,n){return a("v-list-item",{directives:[{name:"show",rawName:"v-show",value:e.$i18n.locale!=t,expression:"$i18n.locale != lang"}],key:n,on:{click:function(a){return e.changeLang(t)}}},[a("v-list-item-title",{staticClass:"text-uppercase"},[e._v(e._s(t))])],1)}),1)],1)},j=[],M={data:()=>({langs:["en","ru"]}),methods:{changeLang(e){window.localStorage.lang=e,this.$i18n.locale=e}}},A=M,L=a("e449"),I=Object(h["a"])(A,S,j,!1,null,null,null),B=I.exports;g()(I,{VBtn:f["a"],VList:V["a"],VListItem:$["a"],VListItemTitle:O["c"],VMenu:L["a"]});var D={data:()=>({drawer:!1}),components:{MenuMain:y,MenuMobile:E,LangSwitcher:B}},F=D,q=a("40dc"),P=a("5bc1"),N=a("f774"),z=a("2fa4"),G=Object(h["a"])(F,s,o,!1,null,null,null),R=G.exports;g()(G,{VAppBar:q["a"],VAppBarNavIcon:P["a"],VNavigationDrawer:N["a"],VSpacer:z["a"],VToolbarTitle:p["b"]});var U={components:{Header:R},mounted(){this.$store.getters["auth/isAuthenticated"]&&this.$store.dispatch("auth/user"),this.$store.dispatch("data/members"),this.$store.dispatch("data/load",!1),this.$store.dispatch("news/load")}},J=U,H=a("7496"),Y=a("a75b"),K=Object(h["a"])(J,r,i,!1,null,null,null),Q=K.exports;g()(K,{VApp:H["a"],VContent:Y["a"]});var W=a("f309"),X=a("a925"),Z=a("da5b"),ee=a.n(Z),te=a("2992"),ae=a.n(te),ne={en:{$vuetify:ee.a,title:"NU DAO",desc_page:"Nazarbayev University market system model for greenhouse gases emission reduction",menu:{marketplace:"Marketplace",publications:"Publications",statistics:"Statistics",add:"Add",login:"Login",logout:"Logout"},map:{title:"Carbon balance (to same month in 2018)",more:"more"},statistics:{current_rating:"This month tops",all_rating:"All time tops",ghg:"Ejection CO2, тонн",electricity:"Electricity comsumed, кВт*ч",finance:"Balance, ₸",carbon_balance:"Carbon balance, tCO2"},resume:{title:"Leaders of the Month",enemy:"Fossil of the Month",friend:"Friend of Month"},news:{publications:"Publications"}},ru:{$vuetify:ae.a,title:"НУ ДАО",desc_page:"Модель рыночной системы снижения выбросов парниковых газов Назарбаев Университета",menu:{marketplace:"Торговая площадка",publications:"Публикации",statistics:"Статистика",add:"Добавить",login:"Войти",logout:"Выйти"},map:{title:"Углеродный баланс (к тому же месяцу 2018)",more:"подробнее"},statistics:{current_rating:"Текущий рейтинг",all_rating:"Рейтинг за все время",ghg:"Выбросов CO2, тонн",electricity:"Потреблено электроэнергии, кВт * ч",finance:"Баланс, ₸",carbon_balance:"Углеродный баланс, tCO2"},resume:{title:"Лидеры месяца",enemy:"Поджигатель месяца",friend:"Друг месяца"},news:{publications:"Публикации"}}};n["a"].use(X["a"]);const re=window.localStorage.lang||"en";var ie=new X["a"]({locale:re,fallbackLocale:"en",messages:ne});n["a"].use(W["a"]);var se=new W["a"]({lang:{t:(e,...t)=>ie.t(e,t)},icons:{iconfont:"mdi"},theme:{themes:{light:{primary:"#4caf50",secondary:"#009688",accent:"#8bc34a",error:"#f44336",warning:"#ff5722",info:"#00bcd4",success:"#03a9f4"}}}}),oe=a("3f08");n["a"].use(oe["a"].Plugin);var le=a("b054"),ce=a.n(le),me=a("bc3a"),ue=a.n(me);const de={list:[]},be={},he={load({commit:e}){let t=!1;const a=JSON.parse(localStorage.getItem("key"));a&&a.timestamp+6e5>(new Date).getTime()&&(e("news",a.list),t=!0),t||ue.a.get("https://api.rss2json.com/v1/api.json?rss_url=https://medium.com/feed/@airalab").then(t=>{const a=t.data.items.slice(0,5).map(e=>{return{title:e.title,link:e.link,pubDate:new Date(e.pubDate).toLocaleString()}});e("news",a),localStorage.setItem("key",JSON.stringify({list:a,timestamp:(new Date).getTime()}))})}},ve={news(e,t){e.list=t}};var ge={namespaced:!0,state:de,getters:be,actions:he,mutations:ve};const fe="http://hbrz.khassanov.me/api/v1",pe={members:[{id:1,name:"Блок Б"},{id:2,name:"Технопарк"}],electricity:[{month:"01/1970",records:[{member_id:1,consumption:28341},{member_id:2,consumption:11243},{member_id:3,consumption:536},{member_id:4,consumption:113},{member_id:5,consumption:4243}]},{month:"02/1970",records:[{member_id:1,consumption:28341},{member_id:2,consumption:11243},{member_id:3,consumption:536},{member_id:4,consumption:113},{member_id:5,consumption:4243}]},{month:"01/1971",records:[{member_id:1,consumption:28341},{member_id:2,consumption:11243},{member_id:3,consumption:536},{member_id:4,consumption:113},{member_id:5,consumption:4243}]},{month:"02/1971",records:[{member_id:1,consumption:28341},{member_id:2,consumption:11243},{member_id:3,consumption:536},{member_id:4,consumption:113},{member_id:5,consumption:4243}]},{month:"02/1972",records:[{member_id:1,consumption:28341},{member_id:2,consumption:11243},{member_id:3,consumption:536},{member_id:4,consumption:113},{member_id:5,consumption:4243}]}],ghg:[{month:"01/1970",records:[{member_id:1,ghg:28341},{member_id:2,ghg:11243},{member_id:3,ghg:536},{member_id:4,ghg:113},{member_id:5,ghg:4243}]},{month:"02/1970",records:[{member_id:1,ghg:28341},{member_id:2,ghg:11243},{member_id:3,ghg:536},{member_id:4,ghg:113},{member_id:5,ghg:4243}]},{month:"01/1971",records:[{member_id:1,ghg:28341},{member_id:2,ghg:11243},{member_id:3,ghg:536},{member_id:4,ghg:113},{member_id:5,ghg:4243}]},{month:"02/1971",records:[{member_id:1,ghg:28341},{member_id:2,ghg:11243},{member_id:3,ghg:536},{member_id:4,ghg:113},{member_id:5,ghg:4243}]},{month:"02/1972",records:[{member_id:1,ghg:28341},{member_id:2,ghg:11243},{member_id:3,ghg:536},{member_id:4,ghg:113},{member_id:5,ghg:4243}]}],finance:[{month:"01/1970",records:[{member_id:1,finance:0},{member_id:2,finance:0},{member_id:3,finance:0},{member_id:4,finance:0},{member_id:5,finance:0}]},{month:"02/1970",records:[{member_id:1,finance:0},{member_id:2,finance:0},{member_id:3,finance:0},{member_id:4,finance:0},{member_id:5,finance:0}]},{month:"01/1971",records:[{member_id:1,finance:0},{member_id:2,finance:0},{member_id:3,finance:0},{member_id:4,finance:0},{member_id:5,finance:0}]},{month:"02/1971",records:[{member_id:1,finance:0},{member_id:2,finance:0},{member_id:3,finance:0},{member_id:4,finance:0},{member_id:5,finance:0}]},{month:"02/1972",records:[{member_id:1,finance:0},{member_id:2,finance:0},{member_id:3,finance:0},{member_id:4,finance:0},{member_id:5,finance:0}]}]};function _e(e){return ue.a.get(fe+e).then(e=>{return e.data})}function ye(e,t){return ue.a.post(fe+e,t)}function we(){return _e("/members")}function xe(e=null){return _e(e?"/members/electricity/consumptions?month="+e:"/members/electricity/consumptions")}function ke(e=null){return _e(e?"/members/ghg/emissions?month="+e:"/members/ghg/emissions")}function Ce(e=null){return _e(e?"/members/ghg/balances?month="+e:"/members/ghg/balances")}function Ve(e=null){return new Promise(e=>e(pe.finance))}function $e(e){return ye("/members/electricity/consumptions",e)}const Oe={auth:{POST:e=>{if("admin"===e.login&&"admin"===e.password)return{token:"This-is-a-mocked-token"};throw new Error("err")}},"user/me":{GET:e=>{if("This-is-a-mocked-token"===e.token)return{name:"admin"};throw new Error("err")}}},Te=({url:e,method:t,data:a})=>{return new Promise((n,r)=>{setTimeout(()=>{try{n(Oe[e][t||"GET"](a))}catch(i){r(new Error(i))}},1e3)})};var Ee={getMembers:we,getElectricity:xe,getGhg:ke,getGhgBalances:Ce,getFinance:Ve,save:$e};let Se=null;const je=new Date;je.setMonth(je.getMonth()-1);let Me=je.getMonth()+1;Me<10&&(Me="0"+Me),Se=Me+"/"+je.getFullYear();const Ae={month:Se,members:[],electricity:{},ghg:{},ghg_balance:{},finance:{}},Le={member:e=>(t,a=!1)=>{const n=e.members.find(e=>{return e.id===t}),r={name:n.name,electricity:0,ghg:0,ghg_balance:0,finance:0};if(a){if(e.electricity[t]){const n=e.electricity[t].list.find(e=>{return e.month===a});n&&(r.electricity=n.value)}if(e.ghg[t]){const n=e.ghg[t].list.find(e=>{return e.month===a});n&&(r.ghg=n.value)}if(e.ghg_balance[t]){const n=e.ghg_balance[t].list.find(e=>{return e.month===a});n&&(r.ghg_balance=n.value)}if(e.finance[t]){const n=e.finance[t].list.find(e=>{return e.month===a});n&&(r.finance=n.value)}}else e.electricity[t]&&e.electricity[t].list.forEach(e=>{r.electricity+=e.value}),e.ghg[t]&&e.ghg[t].list.forEach(e=>{r.ghg+=e.value}),e.ghg_balance[t]&&e.ghg_balance[t].list.forEach(e=>{r.ghg_balance+=e.value}),e.finance[t]&&e.finance[t].list.forEach(e=>{r.finance+=e.value});return r},current:(e,t)=>{return e.members.map(a=>{return t.member(a.id,e.month)})},all:(e,t)=>{return e.members.map(e=>{return t.member(e.id,!1)})},min:e=>{const t={};Object.values(e.ghg_balance).forEach(a=>{t[a.member_id]=0,a.list.forEach(n=>{n.month===e.month&&(t[a.member_id]=n.value)})});let a=null;if(Object.keys(t).forEach(e=>{(null===a||t[e]<a.value)&&(a={member:"-",member_id:Number(e),value:t[e]})}),null===a)return{member:"-",member_id:0,value:0};const n=e.members.find(e=>{return e.id===a.member_id});return n?{...a,member:n.name}:a},max:e=>{const t={};Object.values(e.ghg_balance).forEach(a=>{t[a.member_id]=0,a.list.forEach(n=>{n.month===e.month&&(t[a.member_id]=n.value)})});let a=null;if(Object.keys(t).forEach(e=>{(null===a||t[e]>a.value)&&(a={member:"-",member_id:Number(e),value:t[e]})}),null===a)return{member:"-",member_id:0,value:0};const n=e.members.find(e=>{return e.id===a.member_id});return n?{...a,member:n.name}:a}},Ie={async members({commit:e}){const t=await Ee.getMembers();e("members",t)},async load({dispatch:e}){e("loadByType","electricity"),e("loadByType","ghg"),e("loadByType","ghg_balance"),e("loadByType","finance")},async loadByType({commit:e},t){let a,n;"electricity"===t?(a="getElectricity",n="consumption"):"ghg"===t?(a="getGhg",n="ghg_emission"):"finance"===t?(a="getFinance",n="finance"):"ghg_balance"===t&&(a="getGhgBalances",n="ghg_balance");const r=await Ee[a](),i={};r.forEach(e=>{e.records.forEach(t=>{i[t.member_id]||(i[t.member_id]={member_id:t.member_id,list:[]}),i[t.member_id].list.push({month:e.month,value:t[n]})})}),e("setData",{type:t,data:i})},save(e,t=!1){return Ee.save(t)}},Be={members(e,t){e.members=t},setData(e,{type:t,data:a}){e[t]=a}};var De={namespaced:!0,state:Ae,getters:Le,actions:Ie,mutations:Be};const Fe={profile:{},token:localStorage.getItem("user-token")||"",status:"",hasLoadedOnce:!1},qe={isAuthenticated:e=>!!e.token,authStatus:e=>e.status,profile:e=>e.profile},Pe={request({commit:e,dispatch:t},a){return new Promise((n,r)=>{e("request"),Te({url:"auth",data:a,method:"POST"}).then(a=>{localStorage.setItem("user-token",a.token),e("success",a),t("user"),n(a)}).catch(t=>{e("error",t),localStorage.removeItem("user-token"),r(t)})})},user({commit:e,dispatch:t,state:a}){e("request"),Te({url:"user/me",data:{token:a.token}}).then(t=>{e("user",t)}).catch(()=>{e("error"),t("logout")})},logout({commit:e}){return new Promise(t=>{e("logout"),localStorage.removeItem("user-token"),t()})}},Ne={request(e){e.status="loading"},success(e,t){e.status="success",e.token=t.token,e.hasLoadedOnce=!0},error(e){e.status="error",e.hasLoadedOnce=!0},logout(e){e.token=""},user(e,t){e.status="success",n["a"].set(e,"profile",t)}};var ze={namespaced:!0,state:Fe,getters:qe,actions:Pe,mutations:Ne};n["a"].use(m["a"]);const Ge=!1;var Re=new m["a"].Store({modules:{news:ge,data:De,auth:ze},strict:!0,plugins:Ge?[ce()()]:[]}),Ue=a("8c4f"),Je=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{fluid:""}},[a("v-row",[a("v-col",[a("p",{staticClass:"subheading text-center font-weight-regular"},[e._v(e._s(e.$t("desc_page")))])])],1),a("v-row",[a("v-col",{attrs:{lg:"6",cols:"12"}},[a("Map",{staticStyle:{height:"100%"}})],1),a("v-col",{attrs:{lg:"6",cols:"12"}},[a("Statistic",{staticStyle:{height:"100%"}})],1)],1),a("v-row",[a("v-col",{attrs:{lg:"6",cols:"12"}},[a("Resume",{staticStyle:{height:"100%"}})],1),a("v-col",{attrs:{lg:"6",cols:"12"}},[a("News",{staticStyle:{height:"100%"}})],1)],1)],1)},He=[],Ye=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",[a("v-card-title",[e._v("\n    "+e._s(e.$t("map.title"))+" \n    "),a("a",{staticClass:"body-2",attrs:{href:"https://public.tableau.com/profile/alisher2918#!/vizhome/NUDAOviz/CarbonBalanceMap?publish=yes",target:"_blank"}},[e._v(e._s(e.$t("map.more")))])]),a("iframe",{staticStyle:{width:"100%",height:"500px"},attrs:{frameborder:"0",allowtransparency:"true",allowfullscreen:"true",title:"data visualization",marginheight:"0",marginwidth:"0",src:"https://public.tableau.com/views/NUDAOviz/CarbonBalanceMap?:embed=y&:display_count=yes&publish=yes&:embed=y&:showVizHome=n&:tabs=n&position=right&:apiID=host0"}})],1)},Ke=[],Qe=a("b0af"),We=a("99d9"),Xe={},Ze=Object(h["a"])(Xe,Ye,Ke,!1,null,null,null),et=Ze.exports;g()(Ze,{VCard:Qe["a"],VCardTitle:We["c"]});var tt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",[a("v-tabs",{attrs:{grow:!0},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[a("v-tab",[e._v(e._s(e.$t("statistics.current_rating")))]),a("v-tab",[e._v(e._s(e.$t("statistics.all_rating")))])],1),a("v-tabs-items",{model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[a("v-tab-item",[a("v-data-table",{attrs:{"hide-default-footer":"","sort-by":e.sort,"sort-desc":!0,headers:e.headers,items:e.current},scopedSlots:e._u([{key:"item.name",fn:function(t){var n=t.item;return[a("img",{staticStyle:{width:"22px","vertical-align":"middle","margin-right":"5px"},attrs:{src:"assets/i/"+e.getIcon(n.ghg_balance)}}),e._v("\n          "+e._s(n.name)+"\n        ")]}},{key:"item.finance",fn:function(t){var a=t.item;return[e._v(e._s(Math.round(a.finance)))]}},{key:"item.electricity",fn:function(t){var a=t.item;return[e._v(e._s(Math.round(a.electricity)))]}},{key:"item.ghg",fn:function(t){var a=t.item;return[e._v(e._s(Math.round(a.ghg)))]}},{key:"item.ghg_balance",fn:function(t){var n=t.item;return[a("b",{class:e.getColor(n.ghg_balance)+"--text"},[e._v(e._s(Math.round(n.ghg_balance)))])]}}])})],1),a("v-tab-item",[a("v-data-table",{attrs:{"hide-default-footer":"","sort-by":e.sort,"sort-desc":!0,headers:e.headers,items:e.all},scopedSlots:e._u([{key:"item.name",fn:function(t){var n=t.item;return[a("img",{staticStyle:{"vertical-align":"middle","margin-right":"8px"},attrs:{src:"assets/i/"+e.getIcon(n.ghg_balance)}}),e._v("\n          "+e._s(n.name)+"\n        ")]}},{key:"item.finance",fn:function(t){var a=t.item;return[e._v(e._s(Math.round(a.finance)))]}},{key:"item.electricity",fn:function(t){var a=t.item;return[e._v(e._s(Math.round(a.electricity)))]}},{key:"item.ghg",fn:function(t){var a=t.item;return[e._v(e._s(Math.round(a.ghg)))]}},{key:"item.ghg_balance",fn:function(t){var n=t.item;return[a("b",{class:e.getColor(n.ghg_balance)+"--text"},[e._v(e._s(Math.round(n.ghg_balance)))])]}}])})],1)],1)],1)},at=[],nt={computed:{...Object(m["b"])("data",["current","all"])},data:()=>({tab:null,sort:"electricity",headers:[{text:"",sortable:!1,value:"name",width:"30%"},{text:ie.t("statistics.finance"),value:"finance"},{text:ie.t("statistics.electricity"),value:"electricity"},{text:ie.t("statistics.ghg"),value:"ghg"},{text:ie.t("statistics.carbon_balance"),value:"ghg_balance"}]}),methods:{getIcon(e){return e<-5?"green.png":e>-5&&e<5?"orange.png":"red.png"},getColor(e){return e<-5?"green":e>-5&&e<5?"orange":"red"}}},rt=nt,it=a("8fea"),st=a("71a3"),ot=a("c671"),lt=a("fe57"),ct=a("aac8"),mt=Object(h["a"])(rt,tt,at,!1,null,null,null),ut=mt.exports;g()(mt,{VCard:Qe["a"],VDataTable:it["a"],VTab:st["a"],VTabItem:ot["a"],VTabs:lt["a"],VTabsItems:ct["a"]});var dt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",[a("v-card-title",[e._v(e._s(e.$t("resume.title")))]),a("v-card-text",[a("div",{staticClass:"d-flex justify-space-between align-stretch",staticStyle:{height:"100%"}},[a("div",{staticClass:"pa-5 text-center align-self-center"},[a("img",{attrs:{src:"assets/i/fossil.png"}}),a("br"),e._v("\n        "+e._s(e.$t("resume.enemy"))+"\n        "),a("br"),a("div",{staticClass:"display-1 mt-2"},[a("b",[e._v(e._s(e.max.member))])]),a("br"),a("span",{staticClass:"warning--text title"},[e._v(e._s(e.max.value))]),e._v(" tCO2\n      ")]),a("div",{staticClass:"pa-5 text-center align-self-center"},[a("img",{attrs:{src:"assets/i/libra.jpg"}}),a("br"),e._v("Совокупный результат\n        "),a("br"),a("div",{staticClass:"display-1 mt-2"},[a("b",[e._v("Назарбаев Университета")])]),a("br"),a("span",{staticClass:"primary--text title"},[e._v(e._s(e.min.value))]),e._v(" tCO2\n      ")]),a("div",{staticClass:"pa-5 text-center align-self-center"},[a("img",{attrs:{src:"assets/i/friend.png"}}),a("br"),e._v("\n        "+e._s(e.$t("resume.friend"))+"\n        "),a("br"),a("div",{staticClass:"display-1 mt-2"},[a("b",[e._v(e._s(e.min.member))])]),a("br"),a("span",{staticClass:"primary--text title"},[e._v(e._s(e.min.value))]),e._v(" tCO2\n      ")])]),a("div",[a("p",[e._v("\n        Назиональная цель Казахстана:\n        "),a("span",{staticClass:"green--text"},[e._v("-72тыс")]),e._v(" tCO2 за год\n      ")]),a("p",[e._v("\n        Вклад Назарбаев Университета:\n        "),a("span",{staticClass:"green--text"},[e._v("-88тыс")]),e._v(" tCO2\n      ")]),a("p",[e._v("\n        Глобальная цель для удержания роста температуры до 15 градусов:\n        "),a("span",{staticClass:"green--text"},[e._v("-36млн")]),e._v(" tCO2\n      ")])])])],1)},bt=[],ht={computed:{...Object(m["b"])("data",["min","max"])}},vt=ht,gt=Object(h["a"])(vt,dt,bt,!1,null,null,null),ft=gt.exports;g()(gt,{VCard:Qe["a"],VCardText:We["b"],VCardTitle:We["c"]});var pt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",[a("v-card-title",[e._v(e._s(e.$t("news.publications")))]),e._l(e.list,function(t,n){return a("v-list-item",{key:n,attrs:{"two-line":""}},[a("v-list-item-content",[a("v-list-item-subtitle",[e._v(e._s(t.pubDate))]),a("v-list-item-content",[a("a",{attrs:{href:t.link,target:"_blank"}},[e._v(e._s(t.title))])])],1)],1)})],2)},_t=[],yt={computed:{...Object(m["c"])("news",["list"])}},wt=yt,xt=Object(h["a"])(wt,pt,_t,!1,null,null,null),kt=xt.exports;g()(xt,{VCard:Qe["a"],VCardTitle:We["c"],VListItem:$["a"],VListItemContent:O["a"],VListItemSubtitle:O["b"]});var Ct={components:{Map:et,Statistic:ut,Resume:ft,News:kt}},Vt=Ct,$t=a("62ad"),Ot=a("a523"),Tt=a("0fd9"),Et=Object(h["a"])(Vt,Je,He,!1,null,null,null),St=Et.exports;g()(Et,{VCol:$t["a"],VContainer:Ot["a"],VRow:Tt["a"]});var jt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{fluid:""}},[a("Statistic")],1)},Mt=[],At={components:{Statistic:ut}},Lt=At,It=Object(h["a"])(Lt,jt,Mt,!1,null,null,null),Bt=It.exports;g()(It,{VContainer:Ot["a"]});var Dt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[a("v-row",{attrs:{align:"center",justify:"center"}},[a("v-col",{attrs:{cols:"12",sm:"8",md:"4"}},[a("v-card",{staticClass:"elevation-12"},[a("v-toolbar",{attrs:{color:"primary",dark:"",flat:""}},[a("v-toolbar-title",[e._v("Войти")])],1),a("v-card-text",[a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-text-field",{attrs:{rules:e.required,label:"Login","prepend-icon":"mdi-account",type:"text"},model:{value:e.form.fields.login,callback:function(t){e.$set(e.form.fields,"login",t)},expression:"form.fields.login"}}),a("v-text-field",{attrs:{rules:e.required,label:"Password","prepend-icon":"mdi-lastpass",type:"password"},model:{value:e.form.fields.password,callback:function(t){e.$set(e.form.fields,"password",t)},expression:"form.fields.password"}}),a("v-alert",{staticClass:"mb-4",attrs:{type:"error"},model:{value:e.error,callback:function(t){e.error=t},expression:"error"}},[e._v("Error")])],1)],1),a("v-card-actions",[a("div",{staticClass:"flex-grow-1"}),a("v-btn",{attrs:{color:"primary"},on:{click:e.submit}},[e._v("Войти")])],1)],1)],1)],1)],1)},Ft=[],qt={data(){return{error:!1,valid:!0,form:{fields:{login:"",password:""}},required:[e=>!!e||"Field is required"]}},methods:{submit(){this.error=!1,this.$refs.form.validate()&&this.$store.dispatch("auth/request",{login:this.form.fields.login,password:this.form.fields.password}).then(()=>{this.$router.push("/")}).catch(()=>{this.error=!0})}}},Pt=qt,Nt=a("0798"),zt=a("4bd4"),Gt=a("8654"),Rt=a("71d9"),Ut=Object(h["a"])(Pt,Dt,Ft,!1,null,null,null),Jt=Ut.exports;g()(Ut,{VAlert:Nt["a"],VBtn:f["a"],VCard:Qe["a"],VCardActions:We["a"],VCardText:We["b"],VCol:$t["a"],VContainer:Ot["a"],VForm:zt["a"],VRow:Tt["a"],VTextField:Gt["a"],VToolbar:Rt["a"],VToolbarTitle:p["b"]});var Ht=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[a("v-row",{attrs:{align:"center",justify:"center"}},[a("v-col",{attrs:{cols:"12",sm:"8",md:"4"}},[a("v-card",{staticClass:"elevation-12"},[a("v-toolbar",{attrs:{color:"primary",dark:"",flat:""}},[a("v-toolbar-title",[e._v("Новые данные")])],1),a("v-card-text",[a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{rules:e.required,label:"Date",type:"text"},model:{value:e.monthForm,callback:function(t){e.monthForm=t},expression:"monthForm"}})],1)],1)],1),e._l(e.rows,function(t,n){return a("div",{key:n},[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-text-field",{attrs:{rules:e.required,label:"Member",disabled:t.disabled,type:"text"},model:{value:t.member,callback:function(a){e.$set(t,"member",a)},expression:"row.member"}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-text-field",{attrs:{rules:e.required,label:"Consumption",type:"text"},model:{value:t.consumption,callback:function(a){e.$set(t,"consumption",a)},expression:"row.consumption"}})],1)],1)],1),a("v-divider")],1)})],2),a("v-alert",{staticClass:"mb-4",attrs:{type:"success"},model:{value:e.success,callback:function(t){e.success=t},expression:"success"}},[e._v("Data saved.")])],1),a("v-card-actions",[a("div",{staticClass:"flex-grow-1"}),a("v-btn",{attrs:{color:"primary",disabled:e.request},on:{click:e.submit}},[e._v("Сохранить")])],1)],1)],1)],1)],1)},Yt=[],Kt={data(){return{monthForm:"",success:!1,request:!1,valid:!0,rows:[{disabled:!1,member:"",consumption:""}],required:[e=>!!e||"Field is required"]}},computed:{...Object(m["b"])("auth",["profile"]),...Object(m["c"])("data",["members","month"])},watch:{members:function(){this.init()}},mounted(){this.monthForm=this.month,this.init()},methods:{init(){this.rows=[],this.members.forEach(e=>{this.rows.push({disabled:!0,member:e.name,consumption:""})})},add(){this.rows.push({disabled:!1,member:"",consumption:""})},submit(){if(this.$refs.form.validate()){this.request=!0;const e=[];this.rows.forEach(t=>{const a=this.members.find(e=>{return e.name===t.member});e.push({member_id:a.id,member_name:t.member,consumption:t.consumption})}),this.$store.dispatch("data/save",{author:this.profile.name,month:this.monthForm,records:e}).then(()=>{this.success=!0})}}}},Qt=Kt,Wt=a("ce7e"),Xt=Object(h["a"])(Qt,Ht,Yt,!1,null,null,null),Zt=Xt.exports;g()(Xt,{VAlert:Nt["a"],VBtn:f["a"],VCard:Qe["a"],VCardActions:We["a"],VCardText:We["b"],VCol:$t["a"],VContainer:Ot["a"],VDivider:Wt["a"],VForm:zt["a"],VRow:Tt["a"],VTextField:Gt["a"],VToolbar:Rt["a"],VToolbarTitle:p["b"]}),n["a"].use(Ue["a"]);const ea=(e,t,a)=>{Re.getters["auth/isAuthenticated"]?a("/"):a()},ta=(e,t,a)=>{Re.getters["auth/isAuthenticated"]?a():a("/login")};var aa=new Ue["a"]({mode:"history",base:"/",routes:[{path:"/",name:"home",component:St},{path:"/stat",name:"stat",component:Bt},{path:"/add",name:"add",component:Zt,beforeEnter:ta},{path:"/login",name:"login",component:Jt,beforeEnter:ea}]});n["a"].config.productionTip=!1,new n["a"]({vuetify:se,i18n:ie,store:Re,router:aa,render:e=>e(Q)}).$mount("#app")}});
//# sourceMappingURL=app.5a09e73b.js.map